<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>settingsrandomflagshipandskinpanel.lua</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
</head>
<body>
    <h1>settingsrandomflagshipandskinpanel.lua</h1>
    <a href="index.html">返回主页</a>
    <pre><code class="language-lua">slot0 = class(&quot;SettingsRandomFlagShipAndSkinPanel&quot;, import(&quot;.SettingsBasePanel&quot;))
slot0.EVT_UPDTAE = &quot;SettingsRandomFlagShipAndSkinPanel:EVT_UPDTAE&quot;
slot0.SHIP_FREQUENTLYUSED = 1
slot0.SHIP_LOCKED = 2
slot0.COUSTOM = 3

slot0.GetUIName = function(slot0)
	return &quot;RandomFlagShipAndSkin&quot;
end

slot0.GetTitle = function(slot0)
	return i18n(&quot;random_ship_and_skin_title&quot;)
end

slot0.GetTitleEn = function(slot0)
	return &quot;                                                                                      / RANDOM RANGE&quot;
end

slot0.OnInit = function(slot0)
	slot1 = slot0._tf:Find(&quot;title&quot;)
	slot0.subTitleTxt = slot1:GetComponent(typeof(Text))
	slot0.shipToggles = {
		[uv0.SHIP_FREQUENTLYUSED] = slot0._tf:Find(&quot;1&quot;),
		[uv0.SHIP_LOCKED] = slot0._tf:Find(&quot;2&quot;),
		[uv0.COUSTOM] = slot0._tf:Find(&quot;3&quot;)
	}
	slot0.shipToggleTxts = {
		[uv0.SHIP_FREQUENTLYUSED] = i18n(&quot;random_ship_frequse_mode&quot;),
		[uv0.SHIP_LOCKED] = i18n(&quot;random_ship_locked_mode&quot;),
		[uv0.COUSTOM] = i18n(&quot;random_ship_custom_mode&quot;)
	}
	slot0.editBtn = findTF(slot0._tf, &quot;edit_btn&quot;)

	slot0:UpdateSelected()
	slot0:InitToggles()
end

slot0.InitToggles = function(slot0)
	for slot4, slot5 in pairs(slot0.shipToggles) do
		onToggle(slot0, slot5, function (slot0)
			if slot0 then
				uv0:UpdateShipRandomMode(uv1)
			end
		end, SFX_PANEL)
		setText(slot5:Find(&quot;Text&quot;), slot0.shipToggleTxts[slot4])
	end

	onButton(slot0, slot0.editBtn, function ()
		pg.m02:sendNotification(GAME.GO_SCENE, SCENE.RANDOM_DOCKYARD)
	end, SFX_PANEL)
end

slot0.UpdateShipRandomMode = function(slot0, slot1)
	if slot1 == uv0.COUSTOM and not slot0.refreshFlag and #getProxy(BayProxy):getRandomFlagShipPhantomMarks() == 0 then
		pg.TipsMgr.GetInstance():ShowTips(i18n(&quot;random_ship_custom_mode_empty&quot;))
	end

	slot0.refreshFlag = nil

	if slot0.randomFlagShipMode ~= slot1 then
		pg.m02:sendNotification(GAME.CHANGE_RANDOM_SHIP_MODE, {
			mode = slot1
		})
	end
end

slot0.UpdateSelected = function(slot0)
	slot1 = getProxy(PlayerProxy):getRawData():GetRandomFlagShipMode()
	slot0.randomFlagShipMode = slot1

	triggerToggle(slot0.shipToggles[slot1], true)
end

slot0.OnRandomFlagshipFlagUpdate = function(slot0)
	slot0.refreshFlag = true

	slot0:UpdateSelected()
end

return slot0
</code></pre>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-lua.min.js"></script>
</body>
</html>