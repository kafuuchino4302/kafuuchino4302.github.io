<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>sailboatcollidercontrol.lua</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
</head>
<body>
    <h1>sailboatcollidercontrol.lua</h1>
    <a href="index.html">返回主页</a>
    <pre><code class="language-lua">slot0 = class(&quot;SailBoatColliderControl&quot;)
slot1 = nil

slot0.Ctor = function(slot0, slot1, slot2)
	uv0 = SailBoatGameVo
	slot0._tf = slot1
	slot0._eventCall = slot2
end

slot0.start = function(slot0)
	slot0._itemMoveSpeed = uv0.item_move_speed
end

slot0.step = function(slot0, slot1)
	slot2 = uv0.GetGameChar()
	slot4 = uv0.GetGameEnemys()
	slot5, slot6 = slot2:getWorldColliderData()
	slot7 = slot2:getPosition()
	slot8 = false

	for slot12 = 1, #uv0.GetGameItems() do
		slot14, slot15 = slot3[slot12]:getWorldColliderData()

		if uv0.CheckRectCollider(slot5, slot14, slot6, slot15) then
			if slot13:getConfig(&quot;type&quot;) == SailBoatGameConst.item_static then
				slot16 = slot13:getSpeed()

				slot2:move(slot16.x, slot16.y)
			elseif slot13:getConfig(&quot;type&quot;) == SailBoatGameConst.item_used then
				slot0._eventCall(SailBoatGameEvent.USE_ITEM, slot13:getUseData())
				slot13:setRemoveFlag(true)
				pg.CriMgr.GetInstance():PlaySoundEffect_V3(uv0.SFX_SOUND_ITEM)
			end
		end
	end

	for slot12 = 1, #slot4 do
		if slot4[slot12]:getLife() then
			slot14, slot15 = slot13:getWorldColliderData()

			if uv0.CheckRectCollider(slot5, slot14, slot6, slot15) then
				if slot13:getConfig(&quot;boom&quot;) and slot13:getConfig(&quot;boom&quot;) &gt; 0 then
					if slot13:damage({
						num = 999
					}) then
						slot0._eventCall(SailBoatGameEvent.DESTROY_ENEMY, slot13:getDestroyData())
					end
				elseif slot2:checkColliderDamage() then
					slot2:flash()
					slot2:damage({
						num = uv0.colliderDamage
					})
				end
			end
		end
	end
end

slot0.dispose = function(slot0)
end

slot0.clear = function(slot0)
end

return slot0
</code></pre>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-lua.min.js"></script>
</body>
</html>