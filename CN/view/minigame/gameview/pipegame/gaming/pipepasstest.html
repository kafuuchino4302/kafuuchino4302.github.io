<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>pipepasstest.lua</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
</head>
<body>
    <h1>pipepasstest.lua</h1>
    <a href="index.html">返回主页</a>
    <pre><code class="language-lua">slot0 = class(&quot;PipePassTest&quot;)
slot1 = nil

slot0.Ctor = function(slot0, slot1, slot2, slot3)
	uv0 = PipeGameVo
	slot0._tf = slot1
	slot0._leftId = 1
	slot0._rightId = 1
	slot0._leftIndex = 1
	slot0._rightIndex = 2
	slot0._leftDirect = {
		0,
		0
	}
	slot0._rightDirect = {
		0,
		0
	}
	slot0._leftTrigger = GetOrAddComponent(findTF(slot0._tf, &quot;left/ok&quot;), typeof(EventTriggerListener))
	slot4 = slot0._leftTrigger

	slot4:AddPointClickFunc(function ()
		uv0._leftId = tonumber(GetComponent(findTF(uv0._tf, &quot;left/inputId&quot;), typeof(Text)).text)
		uv0._leftIndex = tonumber(GetComponent(findTF(uv0._tf, &quot;left/inputIndex&quot;), typeof(Text)).text)
		slot0 = PipeGameConst.map_item_data[uv0._leftId]
		uv0._leftDirect = slot0.direct

		setImageSprite(findTF(uv0._tf, &quot;left/icon&quot;), uv1.GetSprite(slot0.img), false)
	end)

	slot0._rightTrigger = GetOrAddComponent(findTF(slot0._tf, &quot;right/ok&quot;), typeof(EventTriggerListener))
	slot4 = slot0._rightTrigger

	slot4:AddPointClickFunc(function ()
		uv0._rightId = tonumber(GetComponent(findTF(uv0._tf, &quot;right/inputId&quot;), typeof(Text)).text)
		uv0._rightIndex = tonumber(GetComponent(findTF(uv0._tf, &quot;right/inputIndex&quot;), typeof(Text)).text)
		uv0._rightDirect = PipeGameConst.map_item_data[uv0._rightId].direct

		setImageSprite(findTF(uv0._tf, &quot;right/icon&quot;), uv1.GetSprite(PipeGameConst.map_item_data[uv0._rightId].img), false)
	end)

	slot0._passTrigger = GetOrAddComponent(findTF(slot0._tf, &quot;btnPass&quot;), typeof(EventTriggerListener))
	slot4 = slot0._passTrigger

	slot4:AddPointClickFunc(function ()
		if callback then
			callback(uv0._leftIndex, uv0._rightIndex, uv0._leftDirect, uv0._rightDirect)
		end
	end)
end

slot0.setPassDesc = function(slot0, slot1)
	if slot1 then
		setText(findTF(slot0._tf, &quot;passDesc&quot;), &quot;检测通过&quot;)
	else
		setText(findTF(slot0._tf, &quot;passDesc&quot;), &quot;检测失败&quot;)
	end
end

slot0.setVisible = function(slot0, slot1)
	setActive(slot0._tf, slot1)
end

slot0.dispose = function(slot0)
	ClearEventTrigger(slot0._leftTrigger)
	ClearEventTrigger(slot0._rightTrigger)
end

return slot0
</code></pre>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-lua.min.js"></script>
</body>
</html>