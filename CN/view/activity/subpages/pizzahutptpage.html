<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>pizzahutptpage.lua</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
</head>
<body>
    <h1>pizzahutptpage.lua</h1>
    <a href="index.html">返回主页</a>
    <pre><code class="language-lua">slot0 = class(&quot;PizzahutPTPage&quot;, import(&quot;.TemplatePage.PtTemplatePage&quot;))
slot0.FADE_TIME = 0.5
slot0.SHOW_TIME = 1
slot0.FADE_OUT_TIME = 0.5
slot0.Menu_Ani_Open_Time = 0.5
slot0.Menu_Ani_Close_Time = 0.3
slot0.PosList = {
	-256,
	-150,
	-50,
	55,
	160,
	263
}
slot0.Pizza_Save_Tag_Pre = &quot;Pizza_Tag_&quot;

slot0.OnDataSetting = function(slot0)
	uv0.super.OnDataSetting(slot0)

	slot0.specialPhaseList = slot0.activity:getConfig(&quot;config_data&quot;)
	slot0.selectedList = slot0:getSelectedList()
	slot0.curSelectOrder = 0
	slot0.curSelectIndex = 0
end

slot0.OnFirstFlush = function(slot0)
	uv0.super.OnFirstFlush(slot0)
	slot0:findUI()
	slot0:initMainPanel()
	slot0:addListener()
	slot0:initSD()
end

slot0.OnUpdateFlush = function(slot0)
	uv0.super.OnUpdateFlush(slot0)

	slot1, slot2, slot3 = slot0.ptData:GetResProgress()

	setText(slot0.progress, (slot3 &gt;= 1 and setColorStr(slot1, &quot;#947D80FF&quot;) or slot1) .. &quot;/&quot; .. slot2)
	slot0:updatePizza()
	slot0:updateMainSelectPanel()
	setActive(slot0.openBtn, slot0:isFinished())
	setActive(slot0.shareBtn, slot0:isFinished())
	onButton(slot0, slot0.battleBtn, function ()
		uv0:emit(ActivityMediator.SPECIAL_BATTLE_OPERA)
	end, SFX_PANEL)
end

slot0.OnDestroy = function(slot0)
	if slot0.spine then
		slot0.spine.transform.localScale = Vector3.one

		pg.PoolMgr.GetInstance():ReturnSpineChar(&quot;chuixue_6&quot;, slot0.spine)

		slot0.spine = nil
	end

	if slot0.shareGo then
		PoolMgr.GetInstance():ReturnUI(&quot;PizzahutSharePage&quot;, slot0.shareGo)

		slot0.shareGo = nil
	end
end

slot0.findUI = function(slot0)
	slot0.shareBtn = slot0:findTF(&quot;share_btn&quot;, slot0.bg)
	slot0.empty = slot0:findTF(&quot;empty&quot;, slot0.bg)
	slot0.pizzaTF = slot0:findTF(&quot;Pizza&quot;, slot0.bg)
	slot0.openBtn = slot0:findTF(&quot;open_btn&quot;, slot0.bg)
	slot0.helpBtn = slot0:findTF(&quot;help_btn&quot;, slot0.bg)
	slot0.specialTF = slot0:findTF(&quot;Special&quot;)
	slot0.backBG = slot0:findTF(&quot;BG&quot;, slot0.specialTF)
	slot0.closeBtn = slot0:findTF(&quot;CloseBtn&quot;, slot0.specialTF)
	slot0.menuTF = slot0:findTF(&quot;Menu&quot;, slot0.specialTF)
	slot4 = slot0.menuTF
	slot0.mainPanel = slot0:findTF(&quot;MainPanel&quot;, slot4)
	slot0.mainToggleTFList = {}

	for slot4 = 1, 6 do
		slot0.mainToggleTFList[slot4] = slot0.mainPanel:GetChild(slot4 - 1)
	end

	slot0.secondPanel = slot0:findTF(&quot;SecondList&quot;, slot0.menuTF)
	slot0.selectBtn = slot0:findTF(&quot;SelectBtn&quot;, slot0.menuTF)
	slot0.mainPanelCG = GetComponent(slot0.mainPanel, &quot;CanvasGroup&quot;)
	slot0.secondPanelCG = GetComponent(slot0.secondPanel, &quot;CanvasGroup&quot;)
	slot0.selectBtnImg = GetComponent(slot0.selectBtn, &quot;Image&quot;)
	slot0.resTF = slot0:findTF(&quot;Res&quot;)
	slot0.iconTable = {
		[&quot;1&quot;] = {
			slot0:findTF(&quot;1/1&quot;, slot0.resTF),
			slot0:findTF(&quot;1/2&quot;, slot0.resTF),
			slot0:findTF(&quot;1/3&quot;, slot0.resTF)
		},
		[&quot;21&quot;] = {
			slot0:findTF(&quot;2/1/1&quot;, slot0.resTF),
			slot0:findTF(&quot;2/1/2&quot;, slot0.resTF),
			slot0:findTF(&quot;2/1/3&quot;, slot0.resTF)
		},
		[&quot;22&quot;] = {
			slot0:findTF(&quot;2/2/1&quot;, slot0.resTF),
			slot0:findTF(&quot;2/2/2&quot;, slot0.resTF),
			slot0:findTF(&quot;2/2/3&quot;, slot0.resTF)
		},
		[&quot;23&quot;] = {
			slot0:findTF(&quot;2/3/1&quot;, slot0.resTF),
			slot0:findTF(&quot;2/3/2&quot;, slot0.resTF),
			slot0:findTF(&quot;2/3/3&quot;, slot0.resTF)
		},
		[&quot;311&quot;] = {
			slot0:findTF(&quot;3/1/1&quot;, slot0.resTF)
		},
		[&quot;312&quot;] = {
			slot0:findTF(&quot;3/1/2&quot;, slot0.resTF)
		},
		[&quot;313&quot;] = {
			slot0:findTF(&quot;3/1/3&quot;, slot0.resTF)
		},
		[&quot;321&quot;] = {
			slot0:findTF(&quot;3/2/1&quot;, slot0.resTF)
		},
		[&quot;322&quot;] = {
			slot0:findTF(&quot;3/2/2&quot;, slot0.resTF)
		},
		[&quot;323&quot;] = {
			slot0:findTF(&quot;3/2/3&quot;, slot0.resTF)
		},
		[&quot;331&quot;] = {
			slot0:findTF(&quot;3/3/1&quot;, slot0.resTF)
		},
		[&quot;332&quot;] = {
			slot0:findTF(&quot;3/3/2&quot;, slot0.resTF)
		},
		[&quot;333&quot;] = {
			slot0:findTF(&quot;3/3/3&quot;, slot0.resTF)
		},
		[&quot;4&quot;] = {
			slot0:findTF(&quot;4/1&quot;, slot0.resTF),
			slot0:findTF(&quot;4/2&quot;, slot0.resTF),
			slot0:findTF(&quot;4/3&quot;, slot0.resTF)
		},
		[&quot;5&quot;] = {
			slot0:findTF(&quot;5/1&quot;, slot0.resTF),
			slot0:findTF(&quot;5/2&quot;, slot0.resTF),
			slot0:findTF(&quot;5/3&quot;, slot0.resTF)
		},
		[&quot;6&quot;] = {
			slot0:findTF(&quot;6/1&quot;, slot0.resTF),
			slot0:findTF(&quot;6/2&quot;, slot0.resTF),
			slot0:findTF(&quot;6/3&quot;, slot0.resTF)
		}
	}
	slot0.pizzaResTF = slot0:findTF(&quot;Pizza&quot;)
	slot0.mainToggleSelectedTF = {}

	for slot34, slot35 in ipairs(slot0.mainToggleTFList) do
		slot0.mainToggleSelectedTF[slot34] = slot35:GetChild(0)
	end

	slot0.selectedIconResTF = slot0:findTF(&quot;SelectedIcon&quot;)
end

slot0.addListener = function(slot0)
	onButton(slot0, slot0.getBtn, function ()
		slot0, slot1, slot2 = uv0.ptData:GetLevelProgress()

		if table.indexof(uv0.specialPhaseList, slot0, 1) then
			uv0:openMainPanel(slot3)
		else
			slot4 = {}
			slot7 = getProxy(PlayerProxy):getData()

			if uv0.ptData:GetAward().type == DROP_TYPE_RESOURCE and slot5.id == PlayerConst.ResGold and slot7:GoldMax(slot5.count) then
				table.insert(slot4, function (slot0)
					pg.MsgboxMgr.GetInstance():ShowMsgBox({
						content = i18n(&quot;gold_max_tip_title&quot;) .. i18n(&quot;award_max_warning&quot;),
						onYes = slot0
					})
				end)
			end

			seriesAsync(slot4, function ()
				slot0, slot1 = uv0.ptData:GetResProgress()

				uv0:emit(ActivityMediator.EVENT_PT_OPERATION, {
					cmd = 1,
					activity_id = uv0.ptData:GetId(),
					arg1 = slot1
				})
			end)
		end
	end, SFX_PANEL)
	onButton(slot0, slot0.openBtn, function ()
		uv0:openMainPanel()
	end, SFX_PANEL)
	onButton(slot0, slot0.helpBtn, function ()
		pg.MsgboxMgr.GetInstance():ShowMsgBox({
			type = MSGBOX_TYPE_HELP,
			helps = pg.gametip.pizzahut_help.tip
		})
	end, SFX_PANEL)
	onButton(slot0, slot0.shareBtn, function ()
		uv0:share()
	end, SFX_PANEL)
end

slot0.initMainPanel = function(slot0)
	slot4 = function()
		uv0:closeSpecial()

		if uv0:isFinished() then
			setActive(uv0.openBtn, true)
		end
	end

	slot5 = SFX_CANCEL

	onButton(slot0, slot0.backBG, slot4, slot5)

	for slot4, slot5 in ipairs(slot0.mainToggleTFList) do
		onToggle(slot0, slot5, function (slot0)
			uv0.curSelectOrder = uv1

			if slot0 == true then
				slot1 = uv2.PosList[uv1]

				setLocalPosition(uv0.secondPanel, {
					x = slot1
				})
				setLocalPosition(uv0.selectBtn, {
					x = slot1
				})

				slot2 = nil

				if uv1 == 1 then
					slot2 = uv0.iconTable[&quot;1&quot;]
				elseif uv1 == 2 then
					slot2 = uv0.iconTable[2 .. uv0.selectedList[1]]
				elseif uv1 == 3 then
					slot2 = uv0.iconTable[3 .. uv0.selectedList[1] .. uv0.selectedList[2]]
				elseif uv1 &gt;= 4 and uv1 &lt;= 6 then
					slot2 = uv0.iconTable[tostring(uv1)]
				end

				slot3 = {}

				for slot7 = 1, 3 do
					slot3[slot7] = uv0.secondPanel:GetChild(slot7 - 1)
				end

				if #slot2 == 1 then
					setActive(slot3[2], false)
					setActive(slot3[3], false)

					slot6 = uv0

					setImageSprite(slot6:findTF(&quot;icon&quot;, slot3[1]), getImageSprite(slot2[1]), true)
					onToggle(uv0, slot3[1], function (slot0)
						if slot0 == true then
							uv0:openSelectBtn()

							uv0.curSelectIndex = 1
						end
					end, SFX_PANEL)
					triggerToggle(slot3[1], true)
				else
					setActive(slot3[2], true)
					setActive(slot3[3], true)

					for slot7 = 1, 3 do
						slot10 = uv0

						setImageSprite(slot10:findTF(&quot;icon&quot;, slot3[slot7]), getImageSprite(slot2[slot7]), true)
						onToggle(uv0, slot3[slot7], function (slot0)
							if slot0 == true then
								uv0:openSelectBtn()

								uv0.curSelectIndex = uv1
							else
								setActive(uv0.selectBtn, false)

								uv0.curSelectIndex = 0
							end
						end, SFX_PANEL)
					end
				end

				for slot7 = 1, 3 do
					triggerToggle(slot3[slot7], false)
				end

				uv0:openSecondPanel()
				setActive(uv0.selectBtn, false)
			else
				setActive(uv0.secondPanel, false)
				setActive(uv0.selectBtn, false)
			end

			uv0:updateMainSelectPanel()
		end, SFX_PANEL)
	end

	onButton(slot0, slot0.selectBtn, function ()
		if not uv0:isFinished() then
			if uv0.curSelectIndex then
				slot0, slot1 = uv0.ptData:GetResProgress()

				uv0:emit(ActivityMediator.EVENT_PT_OPERATION, {
					cmd = 1,
					activity_id = uv0.ptData:GetId(),
					arg1 = slot1,
					arg2 = uv0.curSelectIndex,
					callback = function ()
						uv0.selectedList[uv0.curSelectOrder] = uv0.curSelectIndex

						uv0:closeSpecial()
					end
				})
			end
		else
			uv0:changeIndexSelect()
			uv0:updatePizza()
			uv0:updateMainSelectPanel()
		end
	end, SFX_PANEL)
end

slot0.openMainPanel = function(slot0, slot1)
	slot0.selectedList = slot0:getSelectedList()

	setActive(slot0.openBtn, false)

	for slot5 = 1, 6 do
		triggerToggle(slot0.mainToggleTFList[slot5], false)

		GetComponent(slot0.mainToggleTFList[slot5], &quot;Toggle&quot;).interactable = slot0:isFinished()
	end

	slot0:updateMainSelectPanel()
	setActive(slot0.specialTF, true)

	slot2 = LeanTween.value(go(slot0.mainPanel), 0, 1, uv0.Menu_Ani_Open_Time)
	slot2 = slot2:setOnUpdate(System.Action_float(function (slot0)
		uv0.mainPanelCG.alpha = slot0
	end))

	slot2:setOnComplete(System.Action(function ()
		uv0.mainPanelCG.alpha = 1
	end))

	slot2 = LeanTween.value(go(slot0.mainPanel), -640, 0, uv0.Menu_Ani_Open_Time)
	slot2 = slot2:setOnUpdate(System.Action_float(function (slot0)
		setLocalPosition(uv0.mainPanel, {
			x = slot0
		})
	end))

	slot2:setOnComplete(System.Action(function ()
		setLocalPosition(uv0.mainPanel, {
			x = 0
		})

		if uv1 and uv1 &gt; 0 then
			triggerToggle(uv0.mainToggleTFList[uv1], true)
		end
	end))
end

slot0.closeMainPanel = function(slot0)
	slot1 = LeanTween.value(go(slot0.mainPanel), 1, 0, uv0.Menu_Ani_Close_Time)
	slot1 = slot1:setOnUpdate(System.Action_float(function (slot0)
		uv0.mainPanelCG.alpha = slot0
	end))

	slot1:setOnComplete(System.Action(function ()
		uv0.mainPanelCG.alpha = 0

		setActive(uv0.specialTF, false)
	end))

	slot1 = LeanTween.value(go(slot0.mainPanel), 0, -640, uv0.Menu_Ani_Close_Time)
	slot1 = slot1:setOnUpdate(System.Action_float(function (slot0)
		setLocalPosition(uv0.mainPanel, {
			x = slot0
		})
	end))

	slot1:setOnComplete(System.Action(function ()
		setLocalPosition(uv0.mainPanel, {
			x = -640
		})
		setActive(uv0.specialTF, false)
	end))
end

slot0.openSecondPanel = function(slot0)
	setActive(slot0.secondPanel, true)

	slot1 = LeanTween.value(go(slot0.secondPanel), 0, 1, uv0.Menu_Ani_Open_Time)
	slot1 = slot1:setOnUpdate(System.Action_float(function (slot0)
		uv0.secondPanelCG.alpha = slot0
	end))

	slot1:setOnComplete(System.Action(function ()
		uv0.secondPanelCG.alpha = 1
	end))

	slot1 = LeanTween.value(go(slot0.secondPanel), -530, -60, uv0.Menu_Ani_Open_Time)
	slot1 = slot1:setOnUpdate(System.Action_float(function (slot0)
		setLocalPosition(uv0.secondPanel, {
			y = slot0
		})
	end))

	slot1:setOnComplete(System.Action(function ()
		setLocalPosition(uv0.secondPanel, {
			y = -60
		})
	end))
end

slot0.closeSecondPanel = function(slot0)
	slot1 = LeanTween.value(go(slot0.secondPanel), 1, 0, uv0.Menu_Ani_Close_Time)
	slot1 = slot1:setOnUpdate(System.Action_float(function (slot0)
		uv0.secondPanelCG.alpha = slot0
	end))

	slot1:setOnComplete(System.Action(function ()
		uv0.secondPanelCG.alpha = 0

		setActive(uv0.secondPanel, false)
	end))

	slot1 = LeanTween.value(go(slot0.secondPanel), -60, -530, uv0.Menu_Ani_Close_Time)
	slot1 = slot1:setOnUpdate(System.Action_float(function (slot0)
		setLocalPosition(uv0.secondPanel, {
			y = slot0
		})
	end))

	slot1:setOnComplete(System.Action(function ()
		setLocalPosition(uv0.secondPanel, {
			y = -530
		})
		setActive(uv0.secondPanel, false)
		uv0:closeMainPanel()
	end))
end

slot0.openSelectBtn = function(slot0)
	setActive(slot0.selectBtn, true)

	slot1 = LeanTween.value(go(slot0.selectBtn), 0, 1, uv0.Menu_Ani_Open_Time)
	slot1 = slot1:setOnUpdate(System.Action_float(function (slot0)
		setImageAlpha(uv0.selectBtn, slot0)
	end))

	slot1:setOnComplete(System.Action(function ()
		setImageAlpha(uv0.selectBtn, 1)
	end))

	slot1 = LeanTween.value(go(slot0.selectBtn), -145, -210, uv0.Menu_Ani_Open_Time)
	slot1 = slot1:setOnUpdate(System.Action_float(function (slot0)
		setLocalPosition(uv0.selectBtn, {
			y = slot0
		})
	end))

	slot1:setOnComplete(System.Action(function ()
		setLocalPosition(uv0.selectBtn, {
			y = -210
		})
	end))
end

slot0.closeSelectBtn = function(slot0)
	slot1 = LeanTween.value(go(slot0.selectBtn), 1, 0, uv0.Menu_Ani_Close_Time)
	slot1 = slot1:setOnUpdate(System.Action_float(function (slot0)
		setImageAlpha(uv0.selectBtn, slot0)
	end))

	slot1:setOnComplete(System.Action(function ()
		setImageAlpha(uv0.selectBtn, 0)
		setActive(uv0.selectBtn, false)
	end))

	slot1 = LeanTween.value(go(slot0.selectBtn), -210, -145, uv0.Menu_Ani_Close_Time)
	slot1 = slot1:setOnUpdate(System.Action_float(function (slot0)
		setLocalPosition(uv0.selectBtn, {
			y = slot0
		})
	end))

	slot1:setOnComplete(System.Action(function ()
		setLocalPosition(uv0.selectBtn, {
			y = -145
		})
		setActive(uv0.selectBtn, false)
	end))
end

slot0.closeSpecial = function(slot0)
	slot0:closeSelectBtn()
	slot0:closeSecondPanel()
end

slot0.updatePizza = function(slot0)
	setActive(slot0.empty, slot0.selectedList[1] == 0)
	setActive(slot0.pizzaTF, slot0.selectedList[1] &gt; 0)
	setActive(slot0:findTF(&quot;PizzaPan&quot;, slot0.pizzaTF), slot0.selectedList[1] and slot0.selectedList[1] &gt; 0)
	setActive(slot0:findTF(&quot;PizzaSauce&quot;, slot0.pizzaTF), slot0.selectedList[2] and slot0.selectedList[2] &gt; 0)
	setActive(slot0:findTF(&quot;PizzaCheese&quot;, slot0.pizzaTF), slot0.selectedList[3] and slot0.selectedList[3] &gt; 0)
	setActive(slot0:findTF(&quot;EX1&quot;, slot0.pizzaTF), slot0.selectedList[4] and slot0.selectedList[4] &gt; 0)
	setActive(slot0:findTF(&quot;EX2&quot;, slot0.pizzaTF), slot0.selectedList[5] and slot0.selectedList[5] &gt; 0)
	setActive(slot0:findTF(&quot;EX3&quot;, slot0.pizzaTF), slot0.selectedList[6] and slot0.selectedList[6] &gt; 0)

	if slot0.selectedList[1] and slot0.selectedList[1] &gt; 0 then
		setImageSprite(slot1, getImageSprite(slot0:findTF(tostring(slot0.selectedList[1]), slot0.pizzaResTF)), true)
	end

	if slot0.selectedList[2] and slot0.selectedList[2] &gt; 0 then
		setImageSprite(slot2, getImageSprite(slot0:findTF(slot0.selectedList[1] .. slot0.selectedList[2], slot0.pizzaResTF)), true)
	end

	if slot0.selectedList[3] and slot0.selectedList[3] &gt; 0 then
		setImageSprite(slot3, getImageSprite(slot0:findTF(slot0.selectedList[1] .. slot0.selectedList[2] .. slot0.selectedList[3], slot0.pizzaResTF)), true)
	end

	if slot0.selectedList[4] and slot0.selectedList[4] &gt; 0 then
		setImageSprite(slot4, getImageSprite(slot0:findTF(4 .. slot0.selectedList[4], slot0.pizzaResTF)), true)
	end

	if slot0.selectedList[5] and slot0.selectedList[5] &gt; 0 then
		setImageSprite(slot5, getImageSprite(slot0:findTF(5 .. slot0.selectedList[5], slot0.pizzaResTF)), true)
	end

	if slot0.selectedList[6] and slot0.selectedList[6] &gt; 0 then
		setImageSprite(slot6, getImageSprite(slot0:findTF(6 .. slot0.selectedList[6], slot0.pizzaResTF)), true)
	end
end

slot0.updateMainSelectPanel = function(slot0)
	if slot0.selectedList[1] and slot0.selectedList[1] &gt; 0 then
		setImageSprite(slot0.mainToggleSelectedTF[1], getImageSprite(slot0:findTF(tostring(slot0.selectedList[1]), slot0.selectedIconResTF)), true)
		setActive(slot0.mainToggleSelectedTF[1], true)
	end

	if slot0.selectedList[2] and slot0.selectedList[2] &gt; 0 then
		setImageSprite(slot0.mainToggleSelectedTF[2], getImageSprite(slot0:findTF(slot0.selectedList[1] .. slot0.selectedList[2], slot0.selectedIconResTF)), true)
		setActive(slot0.mainToggleSelectedTF[2], true)
	end

	if slot0.selectedList[3] and slot0.selectedList[3] &gt; 0 then
		setImageSprite(slot0.mainToggleSelectedTF[3], getImageSprite(slot0:findTF(slot0.selectedList[1] .. slot0.selectedList[2] .. slot0.selectedList[3], slot0.selectedIconResTF)), true)
		setActive(slot0.mainToggleSelectedTF[3], true)
	end

	if slot0.selectedList[4] and slot0.selectedList[4] &gt; 0 then
		setImageSprite(slot0.mainToggleSelectedTF[4], getImageSprite(slot0:findTF(4 .. slot0.selectedList[4], slot0.selectedIconResTF)), true)
		setActive(slot0.mainToggleSelectedTF[4], true)
	end

	if slot0.selectedList[5] and slot0.selectedList[5] &gt; 0 then
		setImageSprite(slot0.mainToggleSelectedTF[5], getImageSprite(slot0:findTF(5 .. slot0.selectedList[5], slot0.selectedIconResTF)), true)
		setActive(slot0.mainToggleSelectedTF[5], true)
	end

	if slot0.selectedList[6] and slot0.selectedList[6] &gt; 0 then
		setImageSprite(slot0.mainToggleSelectedTF[6], getImageSprite(slot0:findTF(6 .. slot0.selectedList[6], slot0.selectedIconResTF)), true)
		setActive(slot0.mainToggleSelectedTF[6], true)
	end
end

slot0.isFinished = function(slot0)
	return #slot0.activity.data2_list == 6
end

slot0.changeIndexSelect = function(slot0)
	slot0.selectedList[slot0.curSelectOrder] = slot0.curSelectIndex

	PlayerPrefs.SetInt(uv0.Pizza_Save_Tag_Pre .. slot0.curSelectOrder, slot0.curSelectIndex)
end

slot0.getSelectedList = function(slot0)
	slot0.selectedList = {
		0,
		0,
		0,
		0,
		0,
		0
	}

	for slot4, slot5 in ipairs(slot0.activity.data2_list) do
		slot0.selectedList[slot4] = slot5
	end

	if slot0:isFinished() then
		for slot4 = 1, 6 do
			if PlayerPrefs.GetInt(uv0.Pizza_Save_Tag_Pre .. slot4, 0) &gt; 0 then
				slot0.selectedList[slot4] = slot6
			end
		end
	end

	slot0:saveSelectedList()

	return slot0.selectedList
end

slot0.saveSelectedList = function(slot0)
	for slot4 = 1, 6 do
		PlayerPrefs.SetInt(uv0.Pizza_Save_Tag_Pre .. slot4, slot0.selectedList[slot4])
	end
end

slot0.share = function(slot0)
	slot1 = PoolMgr.GetInstance()

	slot1:GetUI(&quot;PizzahutSharePage&quot;, false, function (slot0)
		SetParent(slot0, GameObject.Find(&quot;UICamera/Canvas/UIMain&quot;), false)

		uv0.shareGo = slot0

		setText(uv0:findTF(&quot;PlayerName&quot;, slot0), getProxy(PlayerProxy):getData().name)

		slot7 = getProxy(PlayerProxy):getRawData()
		slot9 = getProxy(ServerProxy):getRawData()[getProxy(UserProxy):getRawData() and slot8.server or 0]
		slot12 = uv0:findTF(&quot;deck&quot;, slot0)

		setText(slot12:Find(&quot;name/value&quot;), slot7 and slot7.name or &quot;&quot;)
		setText(slot12:Find(&quot;server/value&quot;), slot9 and slot9.name or &quot;&quot;)
		setText(slot12:Find(&quot;lv/value&quot;), slot7.level)

		slot13 = cloneTplTo(uv0.pizzaTF, uv0:findTF(&quot;PizzaContainer&quot;, slot0))

		setLocalPosition(tf(slot13), {
			x = 0,
			y = 0
		})
		setLocalScale(tf(slot13), {
			x = 1.4,
			y = 1.4
		})
		pg.ShareMgr.GetInstance():Share(pg.ShareMgr.TypePizzahut)

		if uv0.shareGo then
			PoolMgr.GetInstance():ReturnUI(&quot;PizzahutSharePage&quot;, uv0.shareGo)

			uv0.shareGo = nil
		end
	end)
end

slot0.initSD = function(slot0)
	slot0.sdContainer = slot0:findTF(&quot;sdcontainer&quot;, slot0.bg)
	slot0.spine = nil
	slot0.spineLRQ = GetSpineRequestPackage.New(&quot;chuixue_6&quot;, function (slot0)
		SetParent(slot0, uv0.sdContainer)

		uv0.spine = slot0
		uv0.spine.transform.localScale = Vector3.one

		if uv0.spine:GetComponent(&quot;SpineAnimUI&quot;) then
			slot1:SetAction(&quot;stand&quot;, 0)
		end

		uv0.spineLRQ = nil
	end):Start()

	setActive(slot0.sdContainer, true)
end

slot0.showBubble = function(slot0, slot1)
	slot2 = nil

	if not slot1 then
		if isActive(slot0.battleBtn) then
			slot2 = i18n(&quot;sofmapsd_1&quot;)
		elseif isActive(slot0.getBtn) then
			slot2 = i18n(&quot;sofmapsd_2&quot;)
		elseif isActive(slot0.gotBtn) then
			slot2 = i18n(&quot;sofmapsd_4&quot;)
		end
	else
		slot2 = slot1
	end

	setText(slot0.bubbleText, slot2)

	slot4 = function()
		slot0 = LeanTween.value(go(uv0.bubble), 1, 0, uv1.FADE_OUT_TIME)
		slot0 = slot0:setOnUpdate(System.Action_float(uv2))

		slot0:setOnComplete(System.Action(function ()
			setActive(uv0.bubble, false)
		end))
	end

	LeanTween.cancel(go(slot0.bubble))
	setActive(slot0.bubble, true)

	slot5 = LeanTween.value(go(slot0.bubble), 0, 1, uv0.FADE_TIME)
	slot5 = slot5:setOnUpdate(System.Action_float(function (slot0)
		uv0.bubbleCG.alpha = slot0

		setLocalScale(uv0.bubble, Vector3.one * slot0)
	end))

	slot5:setOnComplete(System.Action(function ()
		LeanTween.delayedCall(go(uv0.bubble), uv1.SHOW_TIME, System.Action(uv2))
	end))
end

return slot0
</code></pre>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-lua.min.js"></script>
</body>
</html>