<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>dreamlandutil.lua</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
</head>
<body>
    <h1>dreamlandutil.lua</h1>
    <a href="index.html">返回主页</a>
    <pre><code class="language-lua">slot0 = class(&quot;DreamlandUtil&quot;)

slot0.TrPosition2LocalPos = function(slot0, slot1, slot2)
	if slot0 == slot1 then
		return slot2
	else
		slot4 = slot1:InverseTransformPoint(slot0:TransformPoint(slot2))

		return Vector3(slot4.x, slot4.y, 0)
	end
end

slot0.GetRect = function(slot0, slot1, slot2)
	slot3 = Vector2(slot0.x - slot1 * 0.5, slot0.y + slot2 * 0.5)
	slot6 = Vector2(slot0.x + slot1 * 0.5, slot0.y - slot2 * 0.5)

	return {
		xMin = slot3.x,
		xMax = Vector2(slot0.x + slot1 * 0.5, slot0.y + slot2 * 0.5).x,
		yMin = slot3.y,
		yMax = Vector2(slot0.x - slot1 * 0.5, slot0.y - slot2 * 0.5).y
	}
end

slot0.CalcFocusPosition = function(slot0, slot1, slot2)
	slot6 = 0
	slot7 = 0

	if uv0.GetRect(uv0.TrPosition2LocalPos(slot0, slot1, slot2), slot1.rect.width, slot1.rect.height).xMin &lt; uv0.GetRect(slot0.localPosition, slot0.rect.width, slot0.rect.height).xMin then
		slot6 = slot4.xMin - slot5.xMin
	elseif slot5.xMax &lt; slot4.xMax then
		slot6 = slot4.xMax - slot5.xMax
	end

	if slot5.yMin &lt; slot4.yMin then
		slot7 = slot4.yMin - slot5.yMin
	elseif slot4.yMax &lt; slot5.yMax then
		slot7 = slot4.yMax - slot5.yMax
	end

	return (slot3 - slot0.localPosition - Vector3(slot6, slot7, 0)) * -1
end

slot0.GetSpineNormalAction = function(slot0)
	if slot0 == DreamlandData.EXPLORE_SUBTYPE_4RAN_NORMAL then
		slot1 = {
			&quot;normal1&quot;,
			&quot;normal2&quot;,
			&quot;normal3&quot;,
			&quot;normal4&quot;
		}

		return slot1[math.random(1, #slot1)]
	else
		return &quot;normal&quot;
	end
end

slot0.GetSpineInterAction = function(slot0)
	slot1 = {
		&quot;action1&quot;,
		&quot;action2&quot;,
		&quot;action3&quot;
	}

	if slot0 == DreamlandData.EXPLORE_SUBTYPE_3RAN_ACTION then
		return slot1[math.random(1, 3)]
	elseif slot0 == DreamlandData.EXPLORE_SUBTYPE_2RAN_ACTION then
		return slot1[math.random(1, 2)]
	else
		return &quot;action&quot;
	end
end

slot0.List2Map = function(slot0, slot1)
	slot2 = {}

	for slot6, slot7 in ipairs(slot0) do
		slot2[slot7[slot1]] = slot7
	end

	return slot2
end

return slot0
</code></pre>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-lua.min.js"></script>
</body>
</html>