<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>activitybossaisaikesiscene.lua</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
</head>
<body>
    <h1>activitybossaisaikesiscene.lua</h1>
    <a href="index.html">返回主页</a>
    <pre><code class="language-lua">slot0 = class(&quot;ActivityBossAisaikesiScene&quot;, import(&quot;.ActivityBossSceneTemplate&quot;))
slot0.ASKSRemasterStage = 1201204

slot0.getUIName = function(slot0)
	return &quot;ActivityBossAisaikesiUI&quot;
end

slot0.init = function(slot0)
	uv0.super.init(slot0)

	slot0.loader = AutoLoader.New()
end

slot0.didEnter = function(slot0)
	uv0.super.didEnter(slot0)

	slot1 = 0
	slot4 = slot0.mainTF

	onButton(slot0, slot4:Find(&quot;logo&quot;), function ()
		uv0 = uv0 + 1

		if uv0 &gt;= 10 then
			uv1:RemasterSuffering()

			uv0 = 0

			return
		end

		pg.TipsMgr.GetInstance():ShowTips(10 - uv0)
	end)
end

slot0.UpdatePage = function(slot0)
	uv0.super.UpdatePage(slot0)
end

slot0.EnterAnim = function(slot0)
	slot1 = function()
		uv0.super.EnterAnim(uv1)

		slot0 = uv1.loader

		slot0:GetPrefab(&quot;ui/ASKS_Loop&quot;, &quot;&quot;, function (slot0)
			setParent(slot0, uv0.mainTF)
			setAnchoredPosition(slot0, {
				x = -154.7,
				y = -120.9
			})
			tf(slot0):SetAsFirstSibling()

			uv0.raidarAnim = slot0

			setActive(slot0, true)
		end)
	end

	if not slot0.contextData.showAni then
		slot1()

		return
	end

	slot0.contextData.showAni = nil
	slot2 = slot0.mainTF

	setActive(slot2:Find(&quot;logo&quot;), false)

	slot3 = nil

	slot4 = function()
		setActive(uv0, true)
		setActive(uv1, false)
		uv2.loader:ReturnPrefab(uv1)
	end

	slot5 = slot0.loader

	slot5:GetPrefab(&quot;ui/asks&quot;, &quot;asks&quot;, function (slot0)
		setParent(slot0, uv0._tf)

		uv1 = slot0
		slot1 = nil
		slot2 = slot0:GetComponent(&quot;DftAniEvent&quot;)

		slot2:SetEndEvent(uv2)
		slot2:SetTriggerEvent(function ()
			uv0()

			uv1 = true
		end)
		onButton(uv0, slot0, function ()
			uv0 = uv0 or uv1() or true

			uv2()
		end)
	end)
end

slot0.RemasterSuffering = function(slot0)
	slot1 = GameObject.New(&quot;Mask&quot;)
	slot2 = slot1:AddComponent(typeof(RectTransform))
	slot2.anchorMin = Vector2.zero
	slot2.anchorMax = Vector2.one
	slot3 = slot1:AddComponent(typeof(Image))
	slot3.color = Color.New(0, 0, 0, 1)
	slot3.raycastTarget = false

	slot2:SetParent(slot0._tf)

	slot4 = pg.NewStoryMgr.GetInstance()

	slot4:Play(&quot;AISAIKESICAIDAN&quot;, function ()
		uv0:emit(uv0.contextData.mediatorClass.ON_PERFORM_COMBAT, uv0.ASKSRemasterStage)
	end)
end

slot0.willExit = function(slot0)
	slot0.loader:Clear()
	uv0.super.willExit(slot0)
end

return slot0
</code></pre>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-lua.min.js"></script>
</body>
</html>