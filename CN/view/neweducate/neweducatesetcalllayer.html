<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>neweducatesetcalllayer.lua</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
</head>
<body>
    <h1>neweducatesetcalllayer.lua</h1>
    <a href="index.html">返回主页</a>
    <pre><code class="language-lua">slot0 = class(&quot;NewEducateSetCallLayer&quot;, import(&quot;view.newEducate.base.NewEducateBaseUI&quot;))

slot0.getUIName = function(slot0)
	return &quot;NewEducateSetCallUI&quot;
end

slot0.init = function(slot0)
	slot0:initData()
	slot0:findUI()
	slot0:addListener()
end

slot0.initData = function(slot0)
	slot0.defaultName = i18n(&quot;child_default_callname&quot;)
	slot0.lockNamed = PLATFORM_CODE == PLATFORM_CH and LOCK_NAMED
end

slot0.findUI = function(slot0)
	slot0.bgTF = slot0:findTF(&quot;Image&quot;)
	slot0.blurPanel = slot0:findTF(&quot;bg&quot;)
	slot0.callInput = slot0:findTF(&quot;bg/panel/input/nickname&quot;)
	slot0.sureBtn = slot0:findTF(&quot;bg/panel/sure_button&quot;)

	setText(slot0:findTF(&quot;Image&quot;, slot0.sureBtn), i18n(&quot;word_ok&quot;))
	setText(slot0:findTF(&quot;Placeholder&quot;, slot0.callInput), i18n(&quot;child_callname_tip&quot;))

	slot0.callInput:GetComponent(typeof(InputField)).interactable = not slot0.lockNamed

	setActive(slot0:findTF(&quot;bg/panel/input/pan&quot;), not slot0.lockNamed)
end

slot0.addListener = function(slot0)
	onButton(slot0, slot0.sureBtn, function ()
		if getInputText(uv0.callInput) == &quot;&quot; then
			return
		end

		if not nameValidityCheck(slot0, 4, 14, {
			&quot;spece_illegal_tip&quot;,
			&quot;login_newPlayerScene_name_tooShort&quot;,
			&quot;login_newPlayerScene_name_tooLong&quot;,
			&quot;login_newPlayerScene_invalideName&quot;
		}) then
			return
		end

		uv0:emit(NewEducateSetCallediator.ON_SET_CALL, slot0)
	end, SFX_PANEL)
end

slot0.didEnter = function(slot0)
	setImageSprite(slot0.bgTF, LoadSprite(&quot;bg/&quot; .. slot0.contextData.char:getConfig(&quot;name_background&quot;)), false)
	pg.UIMgr.GetInstance():OverlayPanelPB(slot0.blurPanel, {
		pbList = {
			slot0.blurPanel
		},
		groupName = LayerWeightConst.GROUP_EDUCATE,
		weight = slot0:getWeightFromData() + 1
	})
	setInputText(slot0.callInput, slot0.defaultName)
end

slot0.onBackPressed = function(slot0)
end

slot0.willExit = function(slot0)
	if slot0.contextData.callback then
		slot1()
	end

	pg.UIMgr.GetInstance():UnOverlayPanel(slot0.blurPanel, slot0._tf)
end

return slot0
</code></pre>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-lua.min.js"></script>
</body>
</html>