<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>battlesubmarineroutineresultlayer.lua</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
</head>
<body>
    <h1>battlesubmarineroutineresultlayer.lua</h1>
    <a href="index.html">返回主页</a>
    <pre><code class="language-lua">slot0 = class(&quot;BattleSubmarineRoutineResultLayer&quot;, import(&quot;.BattleResultLayer&quot;))

slot0.rankAnimaFinish = function(slot0)
	slot1 = slot0:findTF(&quot;main/conditions&quot;)

	SetActive(slot1, true)
	SetActive(slot1:Find(&quot;bg16/bg_extra&quot;), true)

	slot2 = slot0.contextData.statistics.subRunResult

	slot0:setCondition(i18n(&quot;battle_result_base_score&quot;), &quot;+&quot; .. slot2.basePoint, COLOR_BLUE, true)
	slot0:setCondition(i18n(&quot;battle_result_dead_score&quot;, slot2.deadCount), &quot;-&quot; .. slot2.losePoint, COLOR_BLUE, true)
	slot0:setCondition(i18n(&quot;battle_result_score&quot;, slot2.score), &quot;+&quot; .. slot2.point, COLOR_BLUE, true)
	slot0:setCondition(i18n(&quot;battle_result_score_total&quot;), slot2.total, COLOR_YELLOW)
	table.insert(slot0._delayLeanList, LeanTween.delayedCall(1, System.Action(function ()
		uv0._stateFlag = uv1.STATE_REPORTED

		SetActive(uv0:findTF(&quot;jieuan01/tips&quot;, uv0._bg), true)
	end)).id)

	slot0._stateFlag = uv0.STATE_REPORT
end

slot0.setCondition = function(slot0, slot1, slot2, slot3, slot4)
	slot5 = cloneTplTo(slot0._conditionSubTpl, slot0._conditionContainer)

	setActive(slot5, false)

	slot6 = nil
	slot5:Find(&quot;text&quot;):GetComponent(typeof(Text)).text = setColorStr(slot1, &quot;#FFFFFFFF&quot;)
	slot5:Find(&quot;value&quot;):GetComponent(typeof(Text)).text = setColorStr(slot2, slot3)

	if slot4 then
		slot0:setSpriteTo(&quot;resources/condition_check&quot;, slot5:Find(&quot;checkBox&quot;), true)
	else
		setActive(slot5:Find(&quot;checkBox&quot;), false)
	end

	if slot0._conditionContainer.childCount - 1 &gt; 0 then
		table.insert(slot0._delayLeanList, LeanTween.delayedCall(uv0.CONDITIONS_FREQUENCE * slot9, System.Action(function ()
			setActive(uv0, true)
		end)).id)
	else
		setActive(slot5, true)
	end
end

slot0.displayBG = function(slot0)
	LeanTween.moveX(rtf(slot0._conditions), 1300, uv0.DURATION_MOVE)
	LeanTween.scale(slot0._grade, Vector3(0.6, 0.6, 0), uv0.DURATION_MOVE)
	LeanTween.moveLocal(go(rtf(slot0._grade)), slot0._gradeUpperLeftPos, uv0.DURATION_MOVE):setOnComplete(System.Action(function ()
		uv0:displayShips()
		uv0:displayPlayerInfo()
		uv0:playSubExEnter()
	end))
	setActive(slot0:findTF(&quot;jieuan01/Bomb&quot;, slot0._bg), false)
end

slot0.showRightBottomPanel = function(slot0)
	uv0.super.showRightBottomPanel(slot0)
	setText(slot0._playerBonusExp, &quot;+&quot; .. slot0:calcPlayerProgress())
	SetActive(slot0._subToggle, false)
end

return slot0
</code></pre>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-lua.min.js"></script>
</body>
</html>