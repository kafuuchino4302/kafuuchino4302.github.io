<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>islandgamelimitlayer.lua</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
</head>
<body>
    <h1>islandgamelimitlayer.lua</h1>
    <a href="index.html">返回主页</a>
    <pre><code class="language-lua">slot0 = class(&quot;IslandGameLimitLayer&quot;, import(&quot;view.base.BaseUI&quot;))
slot0.limit_type_jiujiu = &quot;IslandGameJiuJiuLimitUI&quot;
slot0.limit_type_catch = &quot;IslandGameCatchLimitUI&quot;
slot0.limit_type_stone = &quot;IslandGameStoneLimitUI&quot;
slot1 = &quot;island_game_limit_help&quot;
slot2 = &quot;island_game_limit_num&quot;
slot3 = &quot;island_act_tips1&quot;

slot0.getUIName = function(slot0)
	return &quot;IslandGameLimitUI&quot;
end

slot0.init = function(slot0)
	slot2 = ActivityConst.ISLAND_GAME_ID
	slot0.itemConfig = Item.getConfigData(pg.activity_template[slot2].config_client.item_id)
	slot0.num = getProxy(MiniGameProxy):GetHubByHubId(pg.activity_template[slot2].config_id).count or 0
	slot0.dayLimit = pg.mini_game_hub[slot4].reborn_times
	slot0.allWindows = {}

	slot0:showWindow(slot0.contextData.type or IslandGameLimitLayer.limit_type_jiujiu)
	pg.UIMgr.GetInstance():BlurPanel(slot0._tf)
end

slot0.showWindow = function(slot0, slot1)
	if not slot0.allWindows[slot1] then
		slot2 = LoadAndInstantiateSync(&quot;ui&quot;, slot1)

		slot0:prepareWindow(slot2)
		setParent(slot2, findTF(slot0._tf, &quot;ad&quot;))

		slot0.allWindows[slot1] = slot2
	end

	for slot5, slot6 in pairs(slot0.allWindows) do
		setActive(slot6, slot5 == slot1)
	end
end

slot0.prepareWindow = function(slot0, slot1)
	onButton(slot0, findTF(slot1, &quot;ad&quot;), function ()
		uv0:closeView()
	end, SFX_CANCEL)

	slot0.dropIcon = findTF(slot1, &quot;ad/icon/IconTpl&quot;)

	updateDrop(slot0.dropIcon, {
		id = slot0.itemConfig.id,
		type = DROP_TYPE_ITEM
	})
	setText(findTF(slot1, &quot;ad/name&quot;), slot0.itemConfig.name)
	setText(findTF(slot1, &quot;ad/desc&quot;), slot0.itemConfig.display)
	setText(findTF(slot1, &quot;ad/num&quot;), i18n(uv0, slot0.num))
	setText(findTF(slot1, &quot;ad/help&quot;), i18n(uv1, slot0.dayLimit))
	setText(findTF(slot1, &quot;ad/clickClose&quot;), i18n(uv2))
end

slot0.willExit = function(slot0)
	pg.UIMgr.GetInstance():UnblurPanel(slot0._tf)
end

return slot0
</code></pre>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-lua.min.js"></script>
</body>
</html>