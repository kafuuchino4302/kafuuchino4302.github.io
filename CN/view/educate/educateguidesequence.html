<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>educateguidesequence.lua</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
</head>
<body>
    <h1>educateguidesequence.lua</h1>
    <a href="index.html">返回主页</a>
    <pre><code class="language-lua">slot0 = class(&quot;EducateGuideSequence&quot;)
slot0.config = {
	EducateScene = {
		{
			ignorePlayer = true,
			id = &quot;tb_1&quot;,
			condition = function ()
				return getProxy(EducateProxy):GetTaskProxy():GetTaskById(EducateConst.MAIN_TASK_ID_1)
			end,
			args = function ()
				return {}
			end,
			nextOne = function ()
				return &quot;tb_2&quot;
			end
		},
		{
			id = &quot;tb_2&quot;,
			ignorePlayer = true,
			condition = function ()
				return pg.NewStoryMgr.GetInstance():IsPlayed(&quot;tb_1&quot;) and getProxy(EducateProxy):GetTaskProxy():GetTargetId() == 0
			end,
			args = function ()
				return {}
			end
		},
		{
			id = &quot;tb_4&quot;,
			condition = function ()
				slot0 = getProxy(EducateProxy):GetCurTime()

				return pg.NewStoryMgr.GetInstance():IsPlayed(&quot;tb_3&quot;) and slot0.month == 2 and slot0.week == 4
			end,
			args = function ()
				return {}
			end
		},
		{
			id = &quot;tb_5&quot;,
			condition = function ()
				return getProxy(EducateProxy):GetCurTime().month ~= 2
			end,
			args = function ()
				return {}
			end
		},
		{
			id = &quot;tb_18&quot;,
			condition = function ()
				return getProxy(EducateProxy):GetCurTime().month == 3 and slot0.week == 2
			end,
			args = function ()
				return {}
			end,
			nextOne = function ()
				return &quot;tb_19&quot;
			end
		},
		{
			id = &quot;tb_19&quot;,
			condition = function ()
				slot0 = getProxy(EducateProxy):GetCurTime()

				return pg.NewStoryMgr.GetInstance():IsPlayed(&quot;tb_18&quot;) and slot0.month == 3 and slot0.week == 2
			end,
			args = function ()
				return {}
			end
		},
		{
			id = &quot;tb_8&quot;,
			condition = function ()
				return #getProxy(EducateProxy):GetPolaroidList() &gt; 0
			end,
			args = function ()
				return pg.NewStoryMgr.GetInstance():IsPlayed(&quot;tb_7&quot;) and {
					1,
					3
				} or {
					1,
					2,
					3
				}
			end
		},
		{
			id = &quot;tb_12_0&quot;,
			condition = function ()
				return #getProxy(EducateProxy):GetEventProxy():GetHomeSpecEvents() &gt; 0
			end,
			args = function ()
				return {}
			end
		},
		{
			id = &quot;tb_12&quot;,
			condition = function ()
				return EducateHelper.IsSystemUnlock(EducateConst.SYSTEM_FAVOR_AND_MIND)
			end,
			args = function ()
				return {}
			end
		},
		{
			id = &quot;tb_10&quot;,
			condition = function ()
				return getProxy(EducateProxy):GetCurTime().month == 3 and slot0.week == 4 and #getProxy(EducateProxy):GetBuffList() &gt; 0
			end,
			args = function ()
				return {}
			end
		},
		{
			id = &quot;tb_9_2&quot;,
			condition = function ()
				slot0 = getProxy(EducateProxy):GetTaskProxy()

				return EducateHelper.IsSameDay(getProxy(EducateProxy):GetCurTime(), slot0:GetTargetSetDays()[2]) and pg.child_target_set[slot0:GetTargetId()].stage == 2
			end,
			args = function ()
				return {}
			end
		},
		{
			id = &quot;tb_11&quot;,
			ignorePlayer = true,
			condition = function ()
				slot1 = getProxy(EducateProxy):GetCharData()

				return getProxy(EducateProxy):GetCurTime().month == 4 and slot0.week == 1 and slot1.site == slot1:GetSiteCnt()
			end,
			args = function ()
				return {}
			end
		},
		{
			id = &quot;tb_13&quot;,
			condition = function ()
				return getProxy(EducateProxy):GetCurTime().month == 4 and slot0.week == 3
			end,
			args = function ()
				return {}
			end
		},
		{
			id = &quot;tb_14&quot;,
			condition = function ()
				return getProxy(EducateProxy):GetCurTime().month == 4 and slot0.week == 4
			end,
			args = function ()
				return {}
			end
		},
		{
			id = &quot;tb_21&quot;,
			condition = function ()
				slot0 = getProxy(EducateProxy):GetTaskProxy()

				return EducateHelper.IsSameDay(getProxy(EducateProxy):GetCurTime(), slot0:GetTargetSetDays()[3]) and pg.child_target_set[slot0:GetTargetId()].stage == 3
			end,
			args = function ()
				return {}
			end
		},
		{
			id = &quot;tb_9&quot;,
			condition = function ()
				return getProxy(EducateProxy):GetCurTime().month == 6 and slot0.week == 1
			end,
			args = function ()
				return {}
			end
		},
		{
			id = &quot;tb_22&quot;,
			condition = function ()
				slot0 = getProxy(EducateProxy):GetTaskProxy()

				return EducateHelper.IsSameDay(getProxy(EducateProxy):GetCurTime(), slot0:GetTargetSetDays()[4]) and pg.child_target_set[slot0:GetTargetId()].stage == 4
			end,
			args = function ()
				return {}
			end
		},
		{
			id = &quot;tb_16&quot;,
			condition = function ()
				return getProxy(EducateProxy):GetCurTime().month == 14 and slot0.week == 4
			end,
			args = function ()
				return {}
			end
		},
		{
			id = &quot;tb_17&quot;,
			condition = function ()
				return getProxy(EducateProxy):GetGameStatus() == EducateConst.STATUES_RESET
			end,
			args = function ()
				return {}
			end
		}
	},
	EducateTargetLayer = {
		{
			id = &quot;tb_3&quot;,
			ignorePlayer = true,
			condition = function ()
				return pg.NewStoryMgr.GetInstance():IsPlayed(&quot;tb_2&quot;) and getProxy(EducateProxy):GetTaskProxy():GetTaskById(EducateConst.MAIN_TASK_ID_2)
			end,
			args = function ()
				return {}
			end
		}
	},
	EducateCollectEntranceLayer = {
		{
			id = &quot;tb_7&quot;,
			condition = function ()
				return EducateHelper.IsSystemUnlock(EducateConst.SYSTEM_MEMORY)
			end,
			args = function ()
				return {}
			end
		}
	}
}

slot0.CheckGuide = function(slot0, slot1)
	if not getProxy(EducateProxy):IsFirstGame() then
		slot1()

		return
	end

	if not underscore.detect(uv0.config[slot0] or {}, function (slot0)
		return (slot0.ignorePlayer or not pg.NewStoryMgr.GetInstance():IsPlayed(slot0.id)) and slot0.condition()
	end) then
		slot1()

		return
	end

	slot4 = slot3.id
	slot6 = slot3.args()

	if pg.SeriesGuideMgr.GetInstance():isRunning() then
		slot1()

		return
	end

	if not pg.NewGuideMgr.GetInstance():CanPlay() then
		slot1()

		return
	end

	slot7 = pg.m02

	slot7:sendNotification(GAME.STORY_UPDATE, {
		storyId = slot4
	})

	slot7 = pg.NewGuideMgr.GetInstance()

	slot7:Play(slot4, slot6, function ()
		if uv0.nextOne then
			slot0, slot1 = uv0.nextOne()

			uv1.PlayNextOne(slot0, slot1)
		end
	end, slot1)
end

slot0.PlayNextOne = function(slot0, slot1)
	if not slot0 then
		return
	end

	pg.NewGuideMgr.GetInstance():Play(slot0, slot1, function ()
	end)
	pg.m02:sendNotification(GAME.STORY_UPDATE, {
		storyId = slot0
	})
end

return slot0
</code></pre>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-lua.min.js"></script>
</body>
</html>