<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>educateunlocktiplayer.lua</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
</head>
<body>
    <h1>educateunlocktiplayer.lua</h1>
    <a href="index.html">返回主页</a>
    <pre><code class="language-lua">slot0 = class(&quot;EducateUnlockTipLayer&quot;, import(&quot;..base.EducateBaseUI&quot;))
slot0.UNLOCK_TYPE_SYSTEM = 1
slot0.UNLOCK_TYPE_SITE = 2
slot0.UNLOCK_TYPE_PLAN = 3
slot0.UNLOCK_NEW_SECRETARY = 4

slot0.getUIName = function(slot0)
	return &quot;EducateUnlockTip&quot;
end

slot0.init = function(slot0)
	slot0.anim = slot0:findTF(&quot;anim_root&quot;):GetComponent(typeof(Animation))
	slot0.animEvent = slot0:findTF(&quot;anim_root&quot;):GetComponent(typeof(DftAniEvent))

	slot0.animEvent:SetEndEvent(function ()
		uv0:emit(uv1.ON_CLOSE)
	end)
	pg.UIMgr.GetInstance():BlurPanel(slot0._tf, false, {
		weight = LayerWeightConst.THIRD_LAYER
	})

	slot0._tipTF = slot0._tf:Find(&quot;anim_root/tip&quot;)
	slot0.contentTF = slot0._tipTF:Find(&quot;tip_bg/layout/title/name&quot;)

	setText(slot0._tipTF:Find(&quot;tip_bg/layout/title/unlock&quot;), i18n(&quot;child_unlock_tip&quot;))
end

slot0.didEnter = function(slot0)
	slot0:setContent()
end

slot0.setContent = function(slot0)
	switch(slot0.contextData.type, {
		[uv0.UNLOCK_TYPE_SYSTEM] = function ()
			uv0 = EducateTipHelper.system_tip_list[uv1.contextData.single]
		end,
		[uv0.UNLOCK_TYPE_SITE] = function ()
			for slot3, slot4 in ipairs(uv0.contextData.list) do
				uv1 = uv1 .. pg.child_site[slot4].name .. &quot; &quot;
			end
		end,
		[uv0.UNLOCK_TYPE_PLAN] = function ()
			for slot3, slot4 in ipairs(uv0.contextData.list) do
				uv1 = uv1 .. pg.child_plan[slot4].name .. &quot; &quot;
			end
		end,
		[uv0.UNLOCK_NEW_SECRETARY] = function ()
			uv0 = i18n(&quot;child_unlock_new_secretary&quot;)
		end
	})
	setText(slot0.contentTF, shortenString(&quot;&quot;, 15))
end

slot0.saveTipRecord = function(slot0)
	switch(slot0.contextData.type, {
		[uv0.UNLOCK_TYPE_SYSTEM] = function ()
			EducateTipHelper.SaveSystemUnlockTip(uv0.contextData.single)
		end,
		[uv0.UNLOCK_TYPE_SITE] = function ()
			for slot3, slot4 in ipairs(uv0.contextData.list) do
				EducateTipHelper.SaveSiteUnlockTipId(slot4)
			end
		end,
		[uv0.UNLOCK_TYPE_PLAN] = function ()
			for slot3, slot4 in ipairs(uv0.contextData.list) do
				EducateTipHelper.SavePlanUnlockTipId(slot4)
			end
		end
	})
end

slot0.onBackPressed = function(slot0)
end

slot0.willExit = function(slot0)
	slot0:saveTipRecord()
	pg.UIMgr.GetInstance():UnblurPanel(slot0._tf)

	if slot0.contextData.onExit then
		slot0.contextData.onExit()
	end
end

return slot0
</code></pre>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-lua.min.js"></script>
</body>
</html>