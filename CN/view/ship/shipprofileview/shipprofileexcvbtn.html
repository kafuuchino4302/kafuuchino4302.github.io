<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>shipprofileexcvbtn.lua</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
</head>
<body>
    <h1>shipprofileexcvbtn.lua</h1>
    <a href="index.html">返回主页</a>
    <pre><code class="language-lua">slot0 = class(&quot;ShipProfileExCvBtn&quot;, import(&quot;.ShipProfileCvBtn&quot;))

slot0.Init = function(slot0, slot1, slot2, slot3, slot4, slot5)
	uv0.super.Init(slot0, slot1, slot2, slot3, slot4)

	slot0.favor = slot5
	slot7, slot8 = nil

	if string.find(slot4.key, ShipWordHelper.WORD_TYPE_MAIN) then
		mainIndex = tonumber(string.gsub(slot6, ShipWordHelper.WORD_TYPE_MAIN, &quot;&quot;))
		slot7, slot8 = ShipWordHelper.ExistExCv(slot2.id, ShipWordHelper.WORD_TYPE_MAIN, mainIndex, slot5)
	else
		slot7, slot8 = ShipWordHelper.ExistExCv(slot2.id, slot6, nil, slot5)
	end

	if slot0.wordData.cvPath and slot8 then
		slot0.wordData.cvPath = slot0.wordData.cvPath .. &quot;_ex&quot; .. slot8
	end

	slot0.wordData.matchFavor = slot8
	slot0.wordData.textContent = slot7
	slot0.wordData.maxfavor = slot5
end

slot0.Update = function(slot0)
	slot2 = slot0.voice.unlock_condition[1] &lt; 0 or (slot0.wordData.textContent == nil or slot0.wordData.textContent == &quot;nil&quot; or slot0.wordData.textContent == &quot;&quot;)

	setActive(slot0._tf, not slot2)

	if not slot2 then
		slot0:UpdateCvBtn()
		slot0:UpdateIcon()
	end
end

slot0.UpdateCvBtn = function(slot0)
	slot3, slot4 = slot0.shipGroup:VoiceReplayCodition(slot0.voice)
	slot0.nameTxt.text = slot3 and slot1.voice_name .. &quot;Ex&quot; or &quot;???&quot;

	setActive(slot0.tagDiff, ShipWordHelper.ExistDifferentExWord(slot0.skin.id, slot1.key, slot0.wordData.mainIndex, slot0.favor))

	if not slot3 then
		onButton(nil, slot0._tf, function ()
			pg.TipsMgr.GetInstance():ShowTips(uv0)
		end, SFX_PANEL)
	end
end

slot0.isEx = function(slot0)
	return slot0.shipGroup:VoiceReplayCodition(slot0.voice)
end

return slot0
</code></pre>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-lua.min.js"></script>
</body>
</html>