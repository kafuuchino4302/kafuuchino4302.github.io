<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>dump.lua</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
</head>
<body>
    <h1>dump.lua</h1>
    <a href="index.html">è¿”å›žä¸»é¡µ</a>
    <pre><code class="language-lua">assert(require(&quot;jit&quot;).version_num == 20100, &quot;LuaJIT core/library version mismatch&quot;)

slot1 = require(&quot;jit.util&quot;)
slot2 = require(&quot;jit.vmdef&quot;)
slot3 = slot1.funcinfo
slot4 = slot1.funcbc
slot5 = slot1.traceinfo
slot6 = slot1.traceir
slot7 = slot1.tracek
slot8 = slot1.tracemc
slot9 = slot1.tracesnap
slot10 = slot1.traceexitstub
slot11 = slot1.ircalladdr
slot12 = require(&quot;bit&quot;)
slot13 = slot12.band
slot14 = slot12.rshift
slot15 = slot12.tohex
slot16 = string.sub
slot17 = string.gsub
slot18 = string.format
slot19 = string.byte
slot20 = string.rep
slot21 = type
slot22 = tostring
slot23 = io.stdout
slot24 = io.stderr
slot25, slot26, slot27, slot28, slot29 = nil
slot30 = {
	__index = false
}
slot31 = {}
slot32 = 0

slot33 = function(slot0, slot1)
	uv0.__index = {}

	if uv1.arch:sub(1, 4) == &quot;mips&quot; then
		slot2[uv2(slot0, 0)] = &quot;exit&quot;

		return
	end

	for slot6 = 0, slot1 - 1 do
		if uv2(slot0, slot6) &lt; 0 then
			slot7 = slot7 + 4294967296.0
		end

		slot2[slot7] = uv3(slot6)
	end

	if uv2(slot0, slot1) then
		slot2[slot3] = &quot;stack_check&quot;
	end
end

slot34 = function(slot0, slot1)
	slot2 = uv0

	if uv1 == 0 then
		for slot7 = 0, #uv2.ircall do
			if uv3(slot7) ~= 0 then
				if slot8 &lt; 0 then
					slot8 = slot8 + 4294967296.0
				end

				slot2[slot8] = slot3[slot7]
			end
		end
	end

	if uv1 == 1000000 then
		uv4(slot0, slot1)
	elseif uv1 &lt; slot1 then
		for slot6 = uv1, slot1 - 1 do
			if uv5(slot6) == nil then
				uv4(slot0, slot1)
				setmetatable(uv0, uv6)

				slot1 = 1000000

				break
			end

			if slot7 &lt; 0 then
				slot7 = slot7 + 4294967296.0
			end

			slot2[slot7] = uv7(slot6)
		end

		uv1 = slot1
	end

	return slot2
end

slot35 = function(slot0)
	uv0:write(slot0)
end

slot36 = function(slot0)
	if not uv0(slot0) then
		return
	end

	slot2, slot3, slot4 = uv1(slot0)

	if not slot2 then
		return
	end

	if not uv2 then
		uv2 = require(&quot;jit.dis_&quot; .. uv3.arch)
	end

	if slot3 &lt; 0 then
		slot3 = slot3 + 4294967296.0
	end

	uv4:write(&quot;---- TRACE &quot;, slot0, &quot; mcode &quot;, #slot2, &quot;\n&quot;)

	slot5 = uv2.create(slot2, slot3, uv5)
	slot5.hexdump = 0
	slot5.symtab = uv6(slot0, slot1.nexit)

	if slot4 ~= 0 then
		uv7[slot3 + slot4] = &quot;LOOP&quot;

		slot5:disass(0, slot4)
		uv4:write(&quot;-&gt;LOOP:\n&quot;)
		slot5:disass(slot4, #slot2 - slot4)

		uv7[slot3 + slot4] = nil
	else
		slot5:disass(0, #slot2)
	end
end

slot37 = {
	[0] = &quot;nil&quot;,
	&quot;fal&quot;,
	&quot;tru&quot;,
	&quot;lud&quot;,
	&quot;str&quot;,
	&quot;p32&quot;,
	&quot;thr&quot;,
	&quot;pro&quot;,
	&quot;fun&quot;,
	&quot;p64&quot;,
	&quot;cdt&quot;,
	&quot;tab&quot;,
	&quot;udt&quot;,
	&quot;flt&quot;,
	&quot;num&quot;,
	&quot;i8 &quot;,
	&quot;u8 &quot;,
	&quot;i16&quot;,
	&quot;u16&quot;,
	&quot;int&quot;,
	&quot;u32&quot;,
	&quot;i64&quot;,
	&quot;u64&quot;,
	&quot;sfp&quot;
}
slot38 = {
	[0] = &quot;%s&quot;,
	&quot;%s&quot;,
	&quot;%s&quot;,
	&quot;[36m%s[m&quot;,
	&quot;[32m%s[m&quot;,
	&quot;%s&quot;,
	&quot;[1m%s[m&quot;,
	&quot;%s&quot;,
	&quot;[1m%s[m&quot;,
	&quot;%s&quot;,
	&quot;[33m%s[m&quot;,
	&quot;[31m%s[m&quot;,
	&quot;[36m%s[m&quot;,
	&quot;[34m%s[m&quot;,
	&quot;[34m%s[m&quot;,
	&quot;[35m%s[m&quot;,
	&quot;[35m%s[m&quot;,
	&quot;[35m%s[m&quot;,
	&quot;[35m%s[m&quot;,
	&quot;[35m%s[m&quot;,
	&quot;[35m%s[m&quot;,
	&quot;[35m%s[m&quot;,
	&quot;[35m%s[m&quot;,
	&quot;[35m%s[m&quot;
}

slot39 = function(slot0)
	return slot0
end

slot40 = function(slot0, slot1)
	return uv0(uv1[slot1], slot0)
end

slot41 = setmetatable({}, {
	__index = function (slot0, slot1)
		slot2 = uv0(uv1[slot1], slot1)
		slot0[slot1] = slot2

		return slot2
	end
})
slot42 = {
	[&quot;&gt;&quot;] = &quot;&amp;gt;&quot;,
	[&quot;&lt;&quot;] = &quot;&amp;lt;&quot;,
	[&quot;&amp;&quot;] = &quot;&amp;amp;&quot;
}

slot43 = function(slot0, slot1)
	return uv2(&quot;&lt;span class=\&quot;irt_%s\&quot;&gt;%s&lt;/span&gt;&quot;, uv3[slot1], uv0(slot0, &quot;[&lt;&gt;&amp;]&quot;, uv1))
end

slot44 = setmetatable({}, {
	__index = function (slot0, slot1)
		slot2 = uv0(uv1[slot1], slot1)
		slot0[slot1] = slot2

		return slot2
	end
})
slot45 = [[
&lt;style type=&quot;text/css&quot;&gt;
background { background: #ffffff; color: #000000; }
pre.ljdump {
font-size: 10pt;
background: #f0f4ff;
color: #000000;
border: 1px solid #bfcfff;
padding: 0.5em;
margin-left: 2em;
margin-right: 2em;
}
span.irt_str { color: #00a000; }
span.irt_thr, span.irt_fun { color: #404040; font-weight: bold; }
span.irt_tab { color: #c00000; }
span.irt_udt, span.irt_lud { color: #00c0c0; }
span.irt_num { color: #4040c0; }
span.irt_int, span.irt_i8, span.irt_u8, span.irt_i16, span.irt_u16 { color: #b040b0; }
&lt;/style&gt;
]]
slot46, slot47 = nil
slot48 = {
	[&quot;SLOAD &quot;] = setmetatable({}, {
		__index = function (slot0, slot1)
			slot2 = &quot;&quot;

			if uv0(slot1, 1) ~= 0 then
				slot2 = slot2 .. &quot;P&quot;
			end

			if uv0(slot1, 2) ~= 0 then
				slot2 = slot2 .. &quot;F&quot;
			end

			if uv0(slot1, 4) ~= 0 then
				slot2 = slot2 .. &quot;T&quot;
			end

			if uv0(slot1, 8) ~= 0 then
				slot2 = slot2 .. &quot;C&quot;
			end

			if uv0(slot1, 16) ~= 0 then
				slot2 = slot2 .. &quot;R&quot;
			end

			if uv0(slot1, 32) ~= 0 then
				slot2 = slot2 .. &quot;I&quot;
			end

			slot0[slot1] = slot2

			return slot2
		end
	}),
	[&quot;XLOAD &quot;] = {
		[0] = &quot;&quot;,
		&quot;R&quot;,
		&quot;V&quot;,
		&quot;RV&quot;,
		&quot;U&quot;,
		&quot;RU&quot;,
		&quot;VU&quot;,
		&quot;RVU&quot;
	},
	[&quot;CONV  &quot;] = setmetatable({}, {
		__index = function (slot0, slot1)
			slot2 = uv0[uv1(uv2(slot1, 5), 31)] .. &quot;.&quot; .. uv0[uv1(slot1, 31)]

			if uv1(slot1, 2048) ~= 0 then
				slot2 = slot2 .. &quot; sext&quot;
			end

			if uv2(slot1, 14) == 2 then
				slot2 = slot2 .. &quot; index&quot;
			elseif slot3 == 3 then
				slot2 = slot2 .. &quot; check&quot;
			end

			slot0[slot1] = slot2

			return slot2
		end
	}),
	[&quot;FLOAD &quot;] = slot2.irfield,
	[&quot;FREF  &quot;] = slot2.irfield,
	FPMATH = slot2.irfpm,
	BUFHDR = {
		[0] = &quot;RESET&quot;,
		&quot;APPEND&quot;
	},
	[&quot;TOSTR &quot;] = {
		[0] = &quot;INT&quot;,
		&quot;NUM&quot;,
		&quot;CHAR&quot;
	}
}

slot49 = function(slot0)
	if slot0 == &quot;\n&quot; then
		return &quot;\\n&quot;
	elseif slot0 == &quot;\r&quot; then
		return &quot;\\r&quot;
	elseif slot0 == &quot;\t&quot; then
		return &quot;\\t&quot;
	else
		return uv0(&quot;\\%03d&quot;, uv1(slot0))
	end
end

slot50 = function(slot0, slot1)
	if uv0(slot0, slot1).loc then
		return slot2.loc
	elseif slot2.ffid then
		return uv1.ffnames[slot2.ffid]
	elseif slot2.addr then
		return uv2(&quot;C:%x&quot;, slot2.addr)
	else
		return &quot;(?)&quot;
	end
end

slot51 = function(slot0, slot1, slot2)
	slot3, slot4, slot5 = uv0(slot0, slot1)
	slot7 = nil

	if uv1(slot3) == &quot;number&quot; then
		if uv2(slot2 or 0, 196608) ~= 0 then
			slot7 = uv2(slot2, 131072) ~= 0 and &quot;contpc&quot; or &quot;ftsz&quot;
		elseif slot3 == 6755399441055744.0 then
			slot7 = &quot;bias&quot;
		else
			slot7 = uv3(slot3 &gt; 0 and slot3 &lt; 1.390671161567e-309 and &quot;%+a&quot; or &quot;%+.14g&quot;, slot3)
		end
	elseif slot6 == &quot;string&quot; then
		slot7 = uv3(#slot3 &gt; 20 and &quot;\&quot;%.20s\&quot;~&quot; or &quot;\&quot;%s\&quot;&quot;, uv4(slot3, &quot;%c&quot;, uv5))
	elseif slot6 == &quot;function&quot; then
		slot7 = uv6(slot3)
	elseif slot6 == &quot;table&quot; then
		slot7 = uv3(&quot;{%p}&quot;, slot3)
	elseif slot6 == &quot;userdata&quot; then
		if slot4 == 12 then
			slot7 = uv3(&quot;userdata:%p&quot;, slot3)
		elseif uv3(&quot;[%p]&quot;, slot3) == &quot;[NULL]&quot; then
			slot7 = &quot;NULL&quot;
		end
	elseif slot4 == 21 then
		if uv7(uv7(uv8(slot3), 1, -3), 1, 1) ~= &quot;-&quot; then
			slot7 = &quot;+&quot; .. slot7
		end
	elseif slot2 == 17137663 then
		return &quot;----&quot;
	else
		slot7 = uv8(slot3)
	end

	slot7 = uv9(uv3(&quot;%-4s&quot;, slot7), slot4)

	if slot5 then
		slot7 = uv3(&quot;%s @%d&quot;, slot7, slot5)
	end

	return slot7
end

slot52 = function(slot0, slot1)
	slot2 = 2

	for slot6 = 0, slot1[1] - 1 do
		if uv0(slot1[slot2], 24) == slot6 then
			slot2 = slot2 + 1

			if uv1(slot7, 65535) - 32768 &lt; 0 then
				uv2:write(uv3(slot0, slot8, slot7))
			elseif uv1(slot7, 524288) ~= 0 then
				uv2:write(uv4(uv5(&quot;%04d/%04d&quot;, slot8, slot8 + 1), 14))
			else
				slot9, slot10, slot11, slot12 = uv6(slot0, slot8)

				uv2:write(uv4(uv5(&quot;%04d&quot;, slot8), uv1(slot10, 31)))
			end

			uv2:write(uv1(slot7, 65536) == 0 and &quot; &quot; or &quot;|&quot;)
		else
			uv2:write(&quot;---- &quot;)
		end
	end

	uv2:write(&quot;]\n&quot;)
end

slot53 = function(slot0)
	slot4 = slot0

	uv0:write(&quot;---- TRACE &quot;, slot4, &quot; snapshots\n&quot;)

	for slot4 = 0, 1000000000 do
		if not uv1(slot0, slot4) then
			break
		end

		uv0:write(uv2(&quot;#%-3d %04d [ &quot;, slot4, slot5[0]))
		uv3(slot0, slot5)
	end
end

slot54 = function(slot0, slot1)
	if not uv0 then
		uv0 = require(&quot;jit.dis_&quot; .. uv1.arch)
	end

	slot3 = uv3(slot0, 8)

	if uv2(slot0, 255) == 253 or slot2 == 254 then
		return (slot3 == 0 or slot3 == 255) and &quot; {sink&quot; or uv4(&quot; {%04d&quot;, slot1 - slot3)
	end

	if slot0 &gt; 255 then
		return uv4(&quot;[%x]&quot;, slot3 * 4)
	end

	if slot2 &lt; 128 then
		return uv0.regname(slot2)
	end

	return &quot;&quot;
end

slot55 = function(slot0, slot1)
	slot2 = nil

	if slot1 &gt; 0 then
		slot3, slot4, slot5, slot6 = uv0(slot0, slot1)

		if uv1(slot4, 31) == 0 then
			slot1 = slot5
			slot2 = uv2(slot0, slot6)
		end
	end

	if slot1 &lt; 0 then
		uv3:write(uv4(&quot;[0x%x](&quot;, tonumber(uv5(slot0, slot1))))
	else
		uv3:write(uv4(&quot;%04d (&quot;, slot1))
	end

	return slot2
end

slot56 = function(slot0, slot1)
	if slot1 &lt; 0 then
		uv0:write(uv1(slot0, slot1))
	else
		slot2, slot3, slot4, slot5 = uv2(slot0, slot1)
		slot6 = 6 * uv3(slot3, 8)

		if uv4(uv5.irnames, slot6 + 1, slot6 + 6) == &quot;CARG  &quot; then
			uv6(slot0, slot4)

			if slot5 &lt; 0 then
				uv0:write(&quot; &quot;, uv1(slot0, slot5))
			else
				uv0:write(&quot; &quot;, uv7(&quot;%04d&quot;, slot5))
			end
		else
			uv0:write(uv7(&quot;%04d&quot;, slot1))
		end
	end
end

slot57 = function(slot0, slot1, slot2)
	if not uv0(slot0) then
		return
	end

	slot4 = slot3.nins

	uv1:write(&quot;---- TRACE &quot;, slot0, &quot; IR\n&quot;)

	slot5 = uv2.irnames
	slot6 = 65536
	slot7, slot8 = nil

	if slot1 then
		slot6 = uv3(slot0, 0)[0]
		slot8 = 0
	end

	for slot12 = 1, slot4 do
		if slot6 &lt;= slot12 then
			if slot2 then
				uv1:write(uv4(&quot;....              SNAP   #%-3d [ &quot;, slot8))
			else
				uv1:write(uv4(&quot;....        SNAP   #%-3d [ &quot;, slot8))
			end

			uv5(slot0, slot7)

			slot6 = uv3(slot0, slot8 + 1) and slot7[0] or 65536
		end

		slot13, slot14, slot15, slot16, slot17 = uv6(slot0, slot12)
		slot18 = 6 * uv7(slot14, 8)
		slot19 = uv8(slot14, 31)

		if uv9(slot5, slot18 + 1, slot18 + 6) == &quot;LOOP  &quot; then
			if slot2 then
				uv1:write(uv4(&quot;%04d ------------ LOOP ------------\n&quot;, slot12))
			else
				uv1:write(uv4(&quot;%04d ------ LOOP ------------\n&quot;, slot12))
			end
		elseif slot20 ~= &quot;NOP   &quot; and slot20 ~= &quot;CARG  &quot; and (slot2 or slot20 ~= &quot;RENAME&quot;) then
			slot21 = uv8(slot17, 255)

			if slot2 then
				uv1:write(uv4(&quot;%04d %-6s&quot;, slot12, uv10(slot17, slot12)))
			else
				uv1:write(uv4(&quot;%04d &quot;, slot12))
			end

			uv1:write(uv4(&quot;%s%s %s %s &quot;, (slot21 == 254 or slot21 == 253) and &quot;}&quot; or uv8(slot14, 128) == 0 and &quot; &quot; or &quot;&gt;&quot;, uv8(slot14, 64) == 0 and &quot; &quot; or &quot;+&quot;, uv11[slot19], slot20))

			slot22 = uv8(slot13, 3)
			slot23 = uv8(slot13, 12)

			if uv9(slot20, 1, 4) == &quot;CALL&quot; then
				slot24 = nil

				if slot23 == 4 then
					uv1:write(uv4(&quot;%-10s  (&quot;, uv2.ircall[slot16]))
				else
					slot24 = uv12(slot0, slot16)
				end

				if slot15 ~= -1 then
					uv13(slot0, slot15)
				end

				uv1:write(&quot;)&quot;)

				if slot24 then
					uv1:write(&quot; ctype &quot;, slot24)
				end
			elseif slot20 == &quot;CNEW  &quot; and slot16 == -1 then
				uv1:write(uv14(slot0, slot15))
			elseif slot22 ~= 3 then
				if slot15 &lt; 0 then
					uv1:write(uv14(slot0, slot15))
				else
					uv1:write(uv4(slot22 == 0 and &quot;%04d&quot; or &quot;#%-3d&quot;, slot15))
				end

				if slot23 ~= 12 then
					if slot23 == 4 then
						if uv15[slot20] and slot24[slot16] then
							uv1:write(&quot;  &quot;, slot24[slot16])
						elseif slot20 == &quot;UREFO &quot; or slot20 == &quot;UREFC &quot; then
							uv1:write(uv4(&quot;  #%-3d&quot;, uv7(slot16, 8)))
						else
							uv1:write(uv4(&quot;  #%-3d&quot;, slot16))
						end
					elseif slot16 &lt; 0 then
						uv1:write(&quot;  &quot;, uv14(slot0, slot16))
					else
						uv1:write(uv4(&quot;  %04d&quot;, slot16))
					end
				end
			end

			uv1:write(&quot;\n&quot;)
		end
	end

	if slot7 then
		if slot2 then
			uv1:write(uv4(&quot;....              SNAP   #%-3d [ &quot;, slot8))
		else
			uv1:write(uv4(&quot;....        SNAP   #%-3d [ &quot;, slot8))
		end

		uv5(slot0, slot7)
	end
end

slot58 = &quot;&quot;
slot59 = 0

slot60 = function(slot0, slot1)
	if uv0(slot0) == &quot;number&quot; then
		if uv0(slot1) == &quot;function&quot; then
			slot1 = uv1(slot1)
		end

		slot0 = uv2(uv3.traceerr[slot0], slot1)
	end

	return slot0
end

slot61 = function(slot0, slot1, slot2, slot3, slot4, slot5)
	if slot0 == &quot;stop&quot; or slot0 == &quot;abort&quot; and uv0.a then
		if uv0.i then
			uv1(slot1, uv0.s, uv0.r and slot0 == &quot;stop&quot;)
		elseif uv0.s then
			uv2(slot1)
		end

		if uv0.m then
			uv3(slot1)
		end
	end

	if slot0 == &quot;start&quot; then
		if uv0.H then
			uv4:write(&quot;&lt;pre class=\&quot;ljdump\&quot;&gt;\n&quot;)
		end

		uv4:write(&quot;---- TRACE &quot;, slot1, &quot; &quot;, slot0)

		if slot4 then
			uv4:write(&quot; &quot;, slot4, &quot;/&quot;, slot5 == -1 and &quot;stitch&quot; or slot5)
		end

		uv4:write(&quot; &quot;, uv5(slot2, slot3), &quot;\n&quot;)
	elseif slot0 == &quot;stop&quot; or slot0 == &quot;abort&quot; then
		uv4:write(&quot;---- TRACE &quot;, slot1, &quot; &quot;, slot0)

		if slot0 == &quot;abort&quot; then
			uv4:write(&quot; &quot;, uv5(slot2, slot3), &quot; -- &quot;, uv6(slot4, slot5), &quot;\n&quot;)
		else
			slot6 = uv7(slot1)
			slot8 = slot6.linktype

			if slot6.link == slot1 or slot7 == 0 then
				uv4:write(&quot; -&gt; &quot;, slot8, &quot;\n&quot;)
			elseif slot8 == &quot;root&quot; then
				uv4:write(&quot; -&gt; &quot;, slot7, &quot;\n&quot;)
			else
				uv4:write(&quot; -&gt; &quot;, slot7, &quot; &quot;, slot8, &quot;\n&quot;)
			end
		end

		if uv0.H then
			uv4:write(&quot;&lt;/pre&gt;\n\n&quot;)
		else
			uv4:write(&quot;\n&quot;)
		end
	else
		if slot0 == &quot;flush&quot; then
			uv9 = 0
			uv8 = {}
		end

		uv4:write(&quot;---- TRACE &quot;, slot0, &quot;\n\n&quot;)
	end

	uv4:flush()
end

slot62 = function(slot0, slot1, slot2, slot3, slot4)
	if slot3 ~= uv0 then
		uv0 = slot3
		uv1 = uv2(&quot; .&quot;, slot3)
	end

	slot5 = nil

	if slot2 &gt;= 0 then
		slot5 = uv3(slot1, slot2, uv1)

		if uv4.H then
			slot5 = uv5(slot5, &quot;[&lt;&gt;&amp;]&quot;, uv6)
		end
	else
		slot5 = &quot;0000 &quot; .. uv1 .. &quot; FUNCC      \n&quot;
		slot4 = slot1
	end

	if slot2 &lt;= 0 then
		uv7:write(uv8(slot5, 1, -2), &quot;         ; &quot;, uv9(slot1), &quot;\n&quot;)
	else
		uv7:write(slot5)
	end

	if slot2 &gt;= 0 and uv10(uv11(slot1, slot2), 255) &lt; 16 then
		uv7:write(uv3(slot1, slot2 + 1, uv1))
	end
end

slot63 = function(slot0, slot1, slot2, slot3, ...)
	uv0:write(&quot;---- TRACE &quot;, slot0, &quot; exit &quot;, slot1, &quot;\n&quot;)

	if uv1.X then
		slot4 = {
			...
		}

		if uv2.arch == &quot;x64&quot; then
			for slot8 = 1, slot2 do
				uv0:write(uv3(&quot; %016x&quot;, slot4[slot8]))

				if slot8 % 4 == 0 then
					uv0:write(&quot;\n&quot;)
				end
			end
		else
			for slot8 = 1, slot2 do
				uv0:write(&quot; &quot;, uv4(slot4[slot8]))

				if slot8 % 8 == 0 then
					uv0:write(&quot;\n&quot;)
				end
			end
		end

		if uv2.arch == &quot;mips&quot; or uv2.arch == &quot;mipsel&quot; then
			for slot8 = 1, slot3, 2 do
				uv0:write(uv3(&quot; %+17.14g&quot;, slot4[slot2 + slot8]))

				if slot8 % 8 == 7 then
					uv0:write(&quot;\n&quot;)
				end
			end
		else
			for slot8 = 1, slot3 do
				uv0:write(uv3(&quot; %+17.14g&quot;, slot4[slot2 + slot8]))

				if slot8 % 4 == 0 then
					uv0:write(&quot;\n&quot;)
				end
			end
		end
	end
end

slot65 = function(slot0, slot1)
	if uv0 then
		uv1()
	end

	slot3 = (os.getenv(&quot;TERM&quot;) and slot2:match(&quot;color&quot;) or os.getenv(&quot;COLORTERM&quot;)) and &quot;A&quot; or &quot;T&quot;
	slot4 = {
		b = true,
		i = true,
		m = true,
		t = true
	}

	if slot0 and uv2(slot0, &quot;[TAH]&quot;, function (slot0)
		uv0 = slot0

		return &quot;&quot;
	end) and slot0 ~= &quot;&quot; then
		if uv3(slot0, 1, 1) ~= &quot;+&quot; and slot5 ~= &quot;-&quot; then
			slot4 = {}
		end

		for slot9 = 1, #slot0 do
			slot4[uv3(slot0, slot9, slot9)] = slot5 ~= &quot;-&quot;
		end
	end

	uv4 = slot4

	if slot4.t or slot4.b or slot4.i or slot4.s or slot4.m then
		uv5.attach(uv6, &quot;trace&quot;)
	end

	if slot4.b then
		uv5.attach(uv7, &quot;record&quot;)

		if not uv8 then
			uv8 = require(&quot;jit.bc&quot;).line
		end
	end

	if slot4.x or slot4.X then
		uv5.attach(uv9, &quot;texit&quot;)
	end

	if slot1 or os.getenv(&quot;LUAJIT_DUMPFILE&quot;) then
		uv10 = slot1 == &quot;-&quot; and uv11 or assert(io.open(slot1, &quot;w&quot;))
	else
		uv10 = uv11
	end

	slot4[slot3] = true

	if slot3 == &quot;A&quot; then
		uv12 = uv13
		uv14 = uv15
	elseif slot3 == &quot;H&quot; then
		uv12 = uv16
		uv14 = uv17

		uv10:write(uv18)
	else
		uv12 = uv19
		uv14 = uv20
	end

	uv0 = true
end

return {
	on = slot65,
	off = function ()
		if uv0 then
			uv0 = false

			uv1.attach(uv2)
			uv1.attach(uv3)
			uv1.attach(uv4)

			if uv5 and uv5 ~= uv6 and uv5 ~= uv7 then
				uv5:close()
			end

			uv5 = nil
		end
	end,
	start = slot65
}
</code></pre>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-lua.min.js"></script>
</body>
</html>