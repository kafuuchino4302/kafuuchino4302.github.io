<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>guildloginfo.lua</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
</head>
<body>
    <h1>guildloginfo.lua</h1>
    <a href="index.html">返回主页</a>
    <pre><code class="language-lua">slot0 = class(&quot;GuildLogInfo&quot;, import(&quot;..BaseVO&quot;))
slot0.CMD_TYPE_JOIN = 1
slot0.CMD_TYPE_SET_DUTY = 2
slot0.CMD_TYPE_QUIT = 3
slot0.CMD_TYPE_FIRE = 4
slot0.CMD_TYPE_GET_SHIP = 5
slot0.CMD_TYPE_FACILITY_CONTRIBUTION = 6
slot0.CMD_TYPE_FACILITY_CONSUME = 7

slot0.Ctor = function(slot0, slot1)
	slot0.cmd = slot1.cmd
	slot0.time = slot1.time
	slot0.userId = slot1.user_id
	slot0.name = slot1.name
	slot0.arg0 = {}
	slot2 = ipairs
	slot3 = slot1.arg0 or {}

	for slot5, slot6 in slot2(slot3) do
		table.insert(slot0.arg0, slot6)
	end

	slot0.arg1 = slot1.arg1
end

slot0.getConent = function(slot0)
	slot1 = getOfflineTimeStamp(slot0.time)
	slot2 = pg.TimeMgr.GetInstance():STimeDescC(slot0.time, &quot;[%m-%d %H:%M]&quot;)

	if slot0.cmd == uv0.CMD_TYPE_JOIN then
		return i18n(&quot;guild_log_new_guild_join&quot;, slot0.name), slot1
	elseif slot0.cmd == uv0.CMD_TYPE_SET_DUTY then
		return i18n(&quot;guild_log_duty_change&quot;, slot0.name, GuildMember.dutyId2Name(slot0.arg1)), slot1
	elseif slot0.cmd == uv0.CMD_TYPE_QUIT then
		return i18n(&quot;guild_log_quit&quot;, slot0.name), slot1
	elseif slot0.cmd == uv0.CMD_TYPE_FIRE then
		return i18n(&quot;guild_log_fire&quot;, slot0.name), slot1
	elseif slot0.cmd == uv0.CMD_TYPE_GET_SHIP then
		slot3 = Ship.New({
			configId = slot0.arg1
		})

		return {
			id = 3,
			args = {
				PublicArg.New({
					type = PublicArg.TypePlayerName,
					string = slot0.name
				}),
				PublicArg.New({
					type = PublicArg.TypeShipId,
					int = slot0.arg1
				})
			}
		}, slot1
	elseif slot0.cmd == uv0.CMD_TYPE_FACILITY_CONTRIBUTION then
		return slot0.name .. slot0:getDuty(), slot2, i18n(&quot;word_contribution&quot;), slot0.arg0[1] .. Item.New({
			id = id2ItemId(slot0.arg0[2])
		}):getConfig(&quot;name&quot;), i18n(&quot;guild_facility_get_gold&quot;, slot0.arg0[3])
	elseif slot0.cmd == uv0.CMD_TYPE_FACILITY_CONSUME then
		slot3 = i18n(&quot;word_consume&quot;)
		slot4 = slot0.arg0[1] .. i18n(&quot;word_guild_res&quot;)
		slot5 = &quot;&quot;

		if slot0.arg0[2] then
			slot5 = i18n(&quot;guild_facility_upgrade&quot;, GuildFacility.New({
				id = slot0.arg0[2]
			}):getConfig(&quot;name&quot;), slot0.arg0[3])
		end

		return slot0.name .. slot0:getDuty(), slot2, slot3, slot4, slot5
	end
end

slot0.getDuty = function(slot0)
	slot1 = &quot;&quot;

	if slot0.arg1 then
		slot1 = &quot; （&quot; .. GuildMember.dutyId2Name(slot0.arg1) .. &quot;）&quot;
	end

	return slot1
end

return slot0
</code></pre>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-lua.min.js"></script>
</body>
</html>