<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>dorm3dik.lua</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
</head>
<body>
    <h1>dorm3dik.lua</h1>
    <a href="index.html">返回主页</a>
    <pre><code class="language-lua">slot0 = class(&quot;Dorm3dIK&quot;, import(&quot;model.vo.BaseVO&quot;))
slot0.TRIGGER = {
	TOUCH_BODY = 2
}
slot0.ACTION_TRIGGER = {
	RELEASE = 1,
	TOUCH_TARGET = 3,
	RELEASE_ON_TARGET = 2
}
slot0.ACTION = {
	ANIM = 1,
	TIMELINE = 2
}

slot0.bindConfigTable = function(slot0)
	return pg.dorm3d_ik
end

slot0.GetShipGroupId = function(slot0)
	return slot0:getConfig(&quot;char_id&quot;)
end

slot0.GetControllerPath = function(slot0)
	return slot0:getConfig(&quot;controller&quot;)
end

slot0.GetTriggerParams = function(slot0)
	return slot0:getConfig(&quot;trigger_param&quot;)
end

slot0.IsTrigger = function(slot0, slot1, slot2)
	if slot0:GetTriggerParams()[1] ~= slot1 then
		return false
	end

	return switch(slot1, {
		[uv0.TRIGGER.TOUCH_BODY] = function ()
			return uv0 == uv1[2]
		end
	})
end

slot0.GetTriggerBoneName = function(slot0)
	if slot0:GetTriggerParams()[1] ~= uv0.TRIGGER.TOUCH_BODY then
		return
	end

	return slot1[2]
end

slot0.GetActionTriggerParams = function(slot0)
	return slot0:getConfig(&quot;action_trigger&quot;)
end

slot0.GetSubTargets = function(slot0)
	if type(slot0:getConfig(&quot;sub_targets&quot;)) ~= &quot;table&quot; then
		return {}
	end

	return slot1
end

slot0.GetRect = function(slot0)
	return UnityEngine.Rect.New(unpack(slot0:getConfig(&quot;rect&quot;)))
end

slot0.GetTriggerRect = function(slot0)
	return UnityEngine.Rect.New(unpack(slot0:getConfig(&quot;trigger_rect&quot;)))
end

slot0.GetPlaneRotations = function(slot0)
	return _.map(slot0:getConfig(&quot;plane_rotation&quot;), function (slot0)
		return Quaternion.New(unpack(slot0))
	end)
end

slot0.GetPlaneScales = function(slot0)
	return _.map(slot0:getConfig(&quot;plane_scale&quot;), function (slot0)
		return Vector3.New(unpack(slot0))
	end)
end

slot0.GetRevertTime = function(slot0)
	return slot0:getConfig(&quot;back_time&quot;)
end

slot0.GetActionRevertTime = function(slot0)
	return slot0:getConfig(&quot;action_back_time&quot;)
end

slot0.GetHeadTrackPath = function(slot0)
	return slot0:getConfig(&quot;head_track&quot;)
end

slot0.GetTriggerFaceAnim = function(slot0)
	return slot0:getConfig(&quot;action_emote&quot;)
end

slot0.GetIKTipOffset = function(slot0)
	if type(slot0:getConfig(&quot;tip_offset&quot;)) ~= &quot;table&quot; then
		return Vector2.zero
	end

	return Vector2.New(unpack(slot1))
end

slot0.GetTimelineAction = function(slot0)
	if type(slot0:getConfig(&quot;timeline_action&quot;)) ~= &quot;table&quot; then
		return
	end

	switch(slot1[1], {
		TimelineIKStart = function (slot0)
			uv0.intParameter = slot0
		end,
		TimelineSelect = function (slot0)
			uv0.intParameter = slot0
		end,
		TimelinePlayOnTime = function (slot0)
			uv0.floatParameter = slot0
		end
	}, nil, unpack(slot1, 2))

	return {
		intParameter = 0,
		floatParameter = 0,
		stringParameter = slot1[1]
	}
end

return slot0
</code></pre>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-lua.min.js"></script>
</body>
</html>